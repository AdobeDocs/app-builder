"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[658],{20200:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return r},default:function(){return c}});var i=a(58168),o=a(80045),n=(a(88763),a(15680)),p=a(83407);const s=["components"],r={},l={_frontmatter:r},d=p.A;function c(e){let{components:t}=e,a=(0,o.A)(e,s);return(0,n.mdx)(d,(0,i.A)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,n.mdx)("h1",{id:"deployment-overview"},"Deployment Overview"),(0,n.mdx)("p",null,"The ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli"},"CLI")," includes features for Developers to manage App Builder Application lifecycles. This section focuses on the deployment step of the lifecycle."),(0,n.mdx)("h2",{id:"setup-assumptions"},"Setup assumptions"),(0,n.mdx)("p",null,"In the following chapters of this documentation, it will be assumed that:"),(0,n.mdx)("ul",null,(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("p",{parentName:"li"},"Custom Adobe applications were bootstrapped from a ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/adobe/generator-aio-app/"},"generator")," using the CLI")),(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("p",{parentName:"li"},"There is a ",(0,n.mdx)("strong",{parentName:"p"},".env")," file at the root of the application folder, containing these keys and their values:"),(0,n.mdx)("ul",{parentName:"li"},(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("strong",{parentName:"li"},"AIO_RUNTIME_AUTH"),", holding the credentials for use by the Runtime namespace"),(0,n.mdx)("li",{parentName:"ul"},(0,n.mdx)("strong",{parentName:"li"},"AIO_RUNTIME_NAMESPACE"),", holding the name for use by the Runtime namespace")))),(0,n.mdx)("p",null,"If you do not own a ",(0,n.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/runtime"},"Runtime")," namespace, please ",(0,n.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/app-builder/trial/"},"request trial access"),". Please also check the ",(0,n.mdx)("a",{parentName:"p",href:"../../../get_started/runtime_getting_started/setup.md"},"Setup Requirements")," documentation before trying out the deployment scenarios described below."),(0,n.mdx)("p",null,"The CLI offers three types of deployment to Developers:"),(0,n.mdx)("h2",{id:"local-deployment"},"Local deployment"),(0,n.mdx)("p",null,"Local deployment capabilities are offered to Developers who plan to test and debug their application before it is deployed to the Content Delivery Network included with App Builder."),(0,n.mdx)("h3",{id:"local-runtime-actions-and-ui"},"Local Runtime actions and UI"),(0,n.mdx)("h4",{id:"use-case"},"Use case"),(0,n.mdx)("p",null,"This local deployment feature is useful for Developers to get a preview of their custom application before deploying it to Runtime and Content Delivery Network. They will also benefit from local Runtime actions and UI debugging capabilities."),(0,n.mdx)("p",null,"The feature also helps Developers planning to work on their custom application implementation without an Internet connection. Of course, in this case they will not able to interact with ",(0,n.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/apis"},"Adobe APIs")," or remote third-party systems."),(0,n.mdx)("p",null,"Developers who choose this option will not be able to run code that uses ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-lib-files"},"Files")," or ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-lib-state"},"State")," SDKs, the ",(0,n.mdx)("a",{parentName:"p",href:"../../../resources/cron-jobs/index.md"},"cron jobs scheduler with Alarms package"),", or to expose web actions as webhooks for ",(0,n.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/events/"},"I/O Events")," or external events providers. These are only available when the actions are deployed to Runtime."),(0,n.mdx)("p",null,"This deployment scenario doesn't require any specific credentials, since both Runtime actions and application UI are hosted on the developer's machine."),(0,n.mdx)("h4",{id:"cli-command"},"CLI command"),(0,n.mdx)("p",null,"This deployment is triggered when running ",(0,n.mdx)("inlineCode",{parentName:"p"},"aio app dev")," at the root of the Custom Application source code directory."),(0,n.mdx)("h4",{id:"architecture"},"Architecture"),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1256px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"63.4375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/5530d/cli-dev.webp 320w","/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/0c8fb/cli-dev.webp 640w","/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/deed9/cli-dev.webp 1256w"],sizes:"(max-width: 1256px) 100vw, 1256px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/8980b/cli-dev.jpg 320w","/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/56d4e/cli-dev.jpg 640w","/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/e90b5/cli-dev.jpg 1256w"],sizes:"(max-width: 1256px) 100vw, 1256px",type:"image/jpeg"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/b4d7fa1efc5047e06f35032852a46ee4/e90b5/cli-dev.jpg",alt:"Local Runtime Actions and UI",title:"Local Runtime Actions and UI",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("p",null,"The Runtime actions of the application will be run in NodeJS:"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre"},"http://localhost:9080/api/v1/web/<namespace>/<pkg-name>/<action-name>\n")),(0,n.mdx)("p",null,(0,n.mdx)("strong",{parentName:"p"},"pkg-name")," and ",(0,n.mdx)("strong",{parentName:"p"},"action-name")," are the names of the package and action, chosen by the Developer when bootstrapping the application from the generator executed using ",(0,n.mdx)("inlineCode",{parentName:"p"},"aio app init <appname>"),"."),(0,n.mdx)("p",null,"For headful custom applications, the UI will be served locally from ",(0,n.mdx)("a",{parentName:"p",href:"https://parceljs.org/features/cli"},"ParcelJS"),", which is the underlying framework used by the ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli"},"CLI")," to build the front-end source code."),(0,n.mdx)("h3",{id:"remote-runtime-actions-and-local-ui"},"Remote Runtime actions and local UI"),(0,n.mdx)("h4",{id:"technical-prerequisites"},"Technical prerequisites"),(0,n.mdx)("p",null,"This deployment scenario requires Runtime credentials in a .env file at the root of the custom application source code folder, as documented in the ",(0,n.mdx)("a",{parentName:"p",href:"#setup-assumptions"},"Setup assumptions")," above."),(0,n.mdx)("h4",{id:"use-case-1"},"Use case"),(0,n.mdx)("p",null,"This feature is useful for Developers planning to test and debug locally their custom application in a live environment fully integrated to Adobe's ecosystem, with minimal deployment time and efforts."),(0,n.mdx)("h4",{id:"cli-command-1"},"CLI command"),(0,n.mdx)("p",null,"This deployment is triggered when running ",(0,n.mdx)("inlineCode",{parentName:"p"},"aio app run")," at the root of the Custom Application source code directory."),(0,n.mdx)("h4",{id:"architecture-1"},"Architecture"),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.37500000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/f698e0372797b3e5e62cc6a92c637813/5530d/remote-actions-local-ui.webp 320w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/0c8fb/remote-actions-local-ui.webp 640w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/94b1e/remote-actions-local-ui.webp 1280w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/0b34d/remote-actions-local-ui.webp 1920w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/d5269/remote-actions-local-ui.webp 2560w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/f38d5/remote-actions-local-ui.webp 5728w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/f698e0372797b3e5e62cc6a92c637813/dd4a7/remote-actions-local-ui.png 320w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/0f09e/remote-actions-local-ui.png 640w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/bbbf7/remote-actions-local-ui.png 1280w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/ac7a9/remote-actions-local-ui.png 1920w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/c7a69/remote-actions-local-ui.png 2560w","/app-builder/static/f698e0372797b3e5e62cc6a92c637813/7cfba/remote-actions-local-ui.png 5728w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/f698e0372797b3e5e62cc6a92c637813/bbbf7/remote-actions-local-ui.png",alt:"Remote Runtime Actions and local UI",title:"Remote Runtime Actions and local UI",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("p",null,"The UI is still served locally from ",(0,n.mdx)("a",{parentName:"p",href:"https://parceljs.org/features/cli/"},"ParcelJS"),", which allows hot updates of the front-end code. It communicates with Runtime actions deployed to the Developer's Runtime namespace."),(0,n.mdx)("h2",{id:"full-deployment"},"Full deployment"),(0,n.mdx)("h4",{id:"technical-prerequisites-1"},"Technical prerequisites"),(0,n.mdx)("p",null,"This deployment scenario requires Runtime credentials in an ",(0,n.mdx)("inlineCode",{parentName:"p"},".env")," file at the root of the custom application source code folder, as documented in the ",(0,n.mdx)("a",{parentName:"p",href:"#setup-assumptions"},"Setup assumptions")," above."),(0,n.mdx)("h4",{id:"use-case-2"},"Use case"),(0,n.mdx)("p",null,"This feature is useful for Developers planning to test and preview custom applications fully integrated to Adobe's ecosystem, in conditions that are similar to a production deployment."),(0,n.mdx)("h4",{id:"cli-command-2"},"CLI command"),(0,n.mdx)("p",null,"This deployment is triggered when running ",(0,n.mdx)("inlineCode",{parentName:"p"},"aio app deploy")," at the root of the Custom Application source code directory."),(0,n.mdx)("h4",{id:"architecture-2"},"Architecture"),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"46.25%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/5530d/remote-actions-remote-ui.webp 320w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/0c8fb/remote-actions-remote-ui.webp 640w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/94b1e/remote-actions-remote-ui.webp 1280w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/0b34d/remote-actions-remote-ui.webp 1920w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/d5269/remote-actions-remote-ui.webp 2560w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/08636/remote-actions-remote-ui.webp 4532w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/dd4a7/remote-actions-remote-ui.png 320w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/0f09e/remote-actions-remote-ui.png 640w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/bbbf7/remote-actions-remote-ui.png 1280w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/ac7a9/remote-actions-remote-ui.png 1920w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/c7a69/remote-actions-remote-ui.png 2560w","/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/85789/remote-actions-remote-ui.png 4532w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/6b1836976f6ed4c15a8818f4a5eeb175/bbbf7/remote-actions-remote-ui.png",alt:"Remote Runtime Actions and UI",title:"Remote Runtime Actions and UI",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("p",null,"The UI is deployed to the Content Delivery Network on behalf of the Developer's Runtime credentials. It communicates with ",(0,n.mdx)("a",{parentName:"p",href:"../../../intro_and_overview/what_is_app_builder.md#what-is-adobe-io-runtime"},"Runtime")," actions deployed to the developer's Runtime namespace."),(0,n.mdx)("p",null,"The ",(0,n.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-tvm"},"Token-Vending Machine")," supplied with App Builder is implicitely used by the CLI ",(0,n.mdx)("inlineCode",{parentName:"p"},"aio app deploy")," command, and validates the developer's Runtime credentials against Runtime."),(0,n.mdx)("p",null,"If the credentials are valid, the Token Vending Machine provides an access token to the CLI, which authorizes the CLI to deploy the static files of the custom application to the Content Delivery Network."),(0,n.mdx)("p",null,"The deployed Custom Application will then be available at ",(0,n.mdx)("inlineCode",{parentName:"p"},"https://<namespace>.adobeio-static.net/index.html")),(0,n.mdx)("h2",{id:"next-steps"},"Next steps"),(0,n.mdx)("p",null,"Continue to ",(0,n.mdx)("a",{parentName:"p",href:"cicd_for_app_builder_apps.md"},"CI/CD for App Builder Applications"),"."),(0,n.mdx)("p",null,"Return to the ",(0,n.mdx)("a",{parentName:"p",href:"../../index.md"},"Guides Index"),"."))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-app-builder-guides-deployment-deployment-md-74193a213a6918cbc099.js.map