{"version":3,"file":"component---src-pages-guides-runtime-guides-logging-monitoring-md-857ab3e778ecb789ed51.js","mappings":"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","sources":["webpack://adobe-developer-app-builder/./src/pages/guides/runtime_guides/logging_monitoring.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/app-builder/app-builder/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"logging-and-monitoring\"\n    }}>{`Logging and Monitoring`}</h1>\n    <p>{`The `}<inlineCode parentName=\"p\">{`AIO`}</inlineCode>{` CLI offers a number of tools you can use to debug your actions while running them on Adobe I/O Runtime.`}</p>\n    <p>{`You can retrieve the latest activations in a namespace by running:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:activation:list\n`}</code></pre>\n    <p>{`Having an activation ID, you can retrieve the activation result running:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:activation:get <activation ID>\n`}</code></pre>\n    <p>{`If you send data to logs from your actions (using `}<inlineCode parentName=\"p\">{`console.log()`}</inlineCode>{` in your code), you`}{`’`}{`ll get this information as part of the activation record, inside the `}<inlineCode parentName=\"p\">{`logs`}</inlineCode>{` field. The shortcut command to get the logs is:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:activation:logs <activation ID>\n//output sample\n2018-11-14T22:23:00.002Z       stdout: 1542234180001: param = John Doe\n`}</code></pre>\n    <h1 {...{\n      \"id\": \"retrieving-activations-for-blocking-successful-calls\"\n    }}>{`Retrieving activations for blocking successful calls`}</h1>\n    <p>{`At scale, when you run millions of activations in a day, it may be difficult to extract the activations that failed in order to debug them. To help with this task, the system skips persisting the activation that succeeded. `}</p>\n    <p>{`The exceptions are asynchronous actions that are invoked in a non-blocking fashion. Their results are persisted regardless\nso that you can extract the response of the action at a later time. `}</p>\n    <p>{`However, during development it is important to have access to all activation results. You can enable this by setting in the request the extra logging header to `}<inlineCode parentName=\"p\">{`on`}</inlineCode>{`: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`X-OW-EXTRA-LOGGING: on\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`It's not recommended to use the extra logging headers in the production environment; it can reduce invocation performance. `}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"understanding-the-error-codes\"\n    }}>{`Understanding the error codes`}</h2>\n    <p>{`When you have action invocations that fail, sometimes the best way to understand the reason behind the failing is to take a look at the error object part of the activation record - running `}<inlineCode parentName=\"p\">{`aio rt:activation:get <activationId>`}</inlineCode>{` you will get the activation record.`}</p>\n    <p>{`The following are the possible values and the meaning for `}<inlineCode parentName=\"p\">{`error`}</inlineCode>{` in `}<inlineCode parentName=\"p\">{`response.status`}</inlineCode>{`:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`success`}</inlineCode>{`: everything is okay (status is true)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`action developer error`}</inlineCode>{`: A container or action code error occurred, e.g. failed to start action (status is false). This is usually the case if the nodejs action code has a syntax error or missing dependencies`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`application error`}</inlineCode>{`: Action ran, but there was an error thrown in the action code (deliberatly or not) that was handled by I/O Runtime (status is false).`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`whisk internal error`}</inlineCode>{`: Action did not run, an internal I/O Runtime system error occurred while starting the action, more info in `}<inlineCode parentName=\"li\">{`response.status.result.error`}</inlineCode></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"third-party-tools\"\n    }}>{`Third-Party tools`}</h2>\n    <p>{`I/O Runtime doesn’t offer a configuration to send activations and logs to an external system, something like Splunk, Datadog or New Relic. This is something we are considering to offer in the future. `}</p>\n    <p>{`Although there is no out-of-the-box integration, there are still ways you can push data from I/O Runtime to an external tool in order to monitor and debug your actions. `}</p>\n    <h4 {...{\n      \"id\": \"epsagon\"\n    }}>{`Epsagon`}</h4>\n    <p>{`One tool that made it easy to do this is `}<a parentName=\"p\" {...{\n        \"href\": \"https://epsagon.com\"\n      }}>{`Epsagon`}</a>{`. Epsagon built an integration for OpenWhisk-based systems like I/O Runtime that simplifies seeing your activations, errors, latency information and logs. Check this `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.epsagon.com/docs/openwhisk?utm_source=adobe.io&utm_medium=referral&utm_campaign=adobe_io_docs\"\n      }}>{`guide`}</a>{` or this `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.youtube.com/watch?v=4iprbivqrxQ&t=1517s\"\n      }}>{`video presentation`}</a>{` if you want to find more.`}</p>\n    <h4 {...{\n      \"id\": \"new-relic\"\n    }}>{`New Relic`}</h4>\n    <p>{`Another tool that can be used to monitor your actions is New Relic, which offers a Node.js agent that can be used to monitor your actions. Check this `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.newrelic.com/docs/agents/nodejs-agent/getting-started/introduction-new-relic-nodejs\"\n      }}>{`guide`}</a>{` to learn more.`}</p>\n    <p>{`For example if you want to send to New Relic the execution time for one action, you could build your action code as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`const newrelic = require('newrelic');\n\nfunction main(params) {\n    const start = Date.now();\n\n    // your action code here\n\n    const end = Date.now();\n    const durationInMilliseconds = end - start;\n\n    // send duration to New Relic\n    newrelic.recordMetric('Custom/RunEndpointDuration', durationInMilliseconds);\n}\n`}</code></pre>\n    <p>{`You need to package the new relic agent as part of your action code and deploy the action as `}<a parentName=\"p\" {...{\n        \"href\": \"creating_actions.md#deploying-zip-actions\"\n      }}>{`.zip file`}</a>{`. `}</p>\n    <h2 {...{\n      \"id\": \"debugging-locally\"\n    }}>{`Debugging locally`}</h2>\n    <p>{`Check this `}<a parentName=\"p\" {...{\n        \"href\": \"debugging.md\"\n      }}>{`page`}</a>{` if you want to learn how to debug your actions locally.`}</p>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next steps`}</h2>\n    <p>{`Return to the `}<a parentName=\"p\" {...{\n        \"href\": \"../index.md\"\n      }}>{`Guides Index`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}