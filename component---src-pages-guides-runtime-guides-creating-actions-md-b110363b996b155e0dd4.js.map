{"version":3,"file":"component---src-pages-guides-runtime-guides-creating-actions-md-b110363b996b155e0dd4.js","mappings":"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","sources":["webpack://adobe-developer-app-builder/./src/pages/guides/runtime_guides/creating_actions.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/app-builder/app-builder/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"creating-actions\"\n    }}>{`Creating Actions`}</h1>\n    <p>{`To execute as an action on Adobe I/O Runtime, the function you code must both :`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Either be named `}<em parentName=\"li\">{`main`}</em>{` or have an entry point exported as `}<em parentName=\"li\">{`main`}</em>{` - the function that will be executed when invoked`}</li>\n      <li parentName=\"ul\">{`Accept valid JSON objects as input, and output valid JSON objects`}</li>\n    </ul>\n    <p>{`To create and invoke actions, you must also configure the `}<inlineCode parentName=\"p\">{`aio`}</inlineCode>{` CLI on your machine: refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"tools/cli_install.md\"\n      }}>{`aio CLI`}</a>{` page for installation and configuration instructions. `}</p>\n    <p>{`Let's assume you have this function available on your machine:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`// this is saved in a file named first-function.js\nfunction main(params) {\n    var nm = params.name || 'stranger';\n    return {payload: 'Hello ' + nm};\n}\n\nexports.main = main;\n`}</code></pre>\n    <p>{`You can now create an action called `}<inlineCode parentName=\"p\">{`test`}</inlineCode>{` using this command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:create test first-function.js\n`}</code></pre>\n    <p>{`You may update it at any time using this command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:update test first-function.js\n`}</code></pre>\n    <p>{`When you no longer need an action, you can delete it:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:delete test\n`}</code></pre>\n    <p>{`To save an action deployed to your machine, use this command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:get test --save \n`}</code></pre>\n    <p>{`To list all the actions available in your current namespace, run this command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:list\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"invoking-actions\"\n    }}>{`Invoking actions`}</h2>\n    <p>{`Once you have an action, for example `}<inlineCode parentName=\"p\">{`test`}</inlineCode>{`, call it using this command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:invoke test --result\n`}</code></pre>\n    <p>{`Note the `}<inlineCode parentName=\"p\">{`--result`}</inlineCode>{` flag; it outputs the result of the invocation. Without it, the invocation would return the activation ID instead of a result. In that case, you could use the activation ID to retrieve the result:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:activation:get <activation ID>\n`}</code></pre>\n    <p>{`When you invoke an action this way, the invocation is not blocking - in other words, it is asynchronous. To execute it in a blocking style and therefore get an activation record instead of just an ID,  add the `}<inlineCode parentName=\"p\">{`--blocking`}</inlineCode>{` flag to the command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:invoke test --blocking\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"working-with-parameters\"\n    }}>{`Working with parameters`}</h2>\n    <p>{`Actions can receive parameters while they are being executed. Parameters sent to an action are available using the `}<inlineCode parentName=\"p\">{`params`}</inlineCode>{` variable. Parameters called `}<em parentName=\"p\">{`first-name`}</em>{` and `}<em parentName=\"p\">{`last-name`}</em>{`  will be available as `}<em parentName=\"p\">{`params.first-name`}</em>{` and `}<em parentName=\"p\">{`params.last-name`}</em>{`.`}</p>\n    <p>{`To invoke an action with parameters, set a parameter like `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` in our function sample above, in this way:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:invoke test --param name \"John Doe\" --result\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"setting-default-parameters\"\n    }}>{`Setting default parameters`}</h2>\n    <p>{`To bind the same parameter values for all invocations or set default values, you have two options: set them at the package level so all actions in the package inherit them, or set them at the action level.`}</p>\n    <h3 {...{\n      \"id\": \"default-params-and-encryption\"\n    }}>{`Default params and encryption`}</h3>\n    <p>{`Developers often use the default parameters as a way to provision actions with the secrets and passwords they need to authenticate against databases, services, APIs, or other systems.`}</p>\n    <p>{`To support this use case, default parameters are automatically encrypted, and decrypted just before the action code is executed. The decrypted value is therefore accessible only while the action code executes.`}</p>\n    <p>{`The CLI command to get an action or package will return a listing of the default parameter names; the values will be listed as a hashes of the actual values.`}</p>\n    <h3 {...{\n      \"id\": \"set-default-parameters-on-action\"\n    }}>{`Set default parameters on action`}</h3>\n    <p>{`Assume you want the default value of your parameter to be \"Runtime\". You can set it when creating the action or updating an existing action. In either case, add the `}<inlineCode parentName=\"p\">{`--param`}</inlineCode>{` flag:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// creation time\naio rt:action:create test first-function.js --param name \"Runtime\"\n\n// update\naio rt:action:update test first-function.js --param name \"Runtime\"\n`}</code></pre>\n    <p>{`When you run this action without any parameters,  it will use the default values. Parameter set during invocation will overwrite the defaults.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: When updating an action's params using `}<inlineCode parentName=\"p\">{`--param <key> <value>`}</inlineCode>{` as above, you must specify all of the parameters, because all previous values will be overwritten.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"set-default-parameters-on-package\"\n    }}>{`Set default parameters on package`}</h3>\n    <p>{`Actions are always created in a package. If you don't specify a package, the default package is used. In the same way you set default parameters at the action level, you can specify them at the package level. Parameters set at the package level will be used for all  actions created in that package.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// creation time\naio rt:package:create my-package --param name \"Runtime\"\n\n// update\naio rt:package:update my-package --param name \"Runtime\"\n`}</code></pre>\n    <p>{`In case of conflict, the precedence rules are: parameters set at invocation time override those set at the action level, which in turn override those set at the package level.`}</p>\n    <h3 {...{\n      \"id\": \"use-parameter-files-to-set-default-parameters\"\n    }}>{`Use parameter files to set default parameters`}</h3>\n    <p>{`You can use a dedicated file to store default parameter values, and then use the file to set them. This is useful when you need to set multiple parameter values while configuring API access keys, endpoints, and so on.`}</p>\n    <p>{`Returning to the sample function that expects the single parameter, `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{`, you would create a JSON file to store its value:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`// filename is my-params.json\n{\n    \"name\": \"Runtime\"\n}\n`}</code></pre>\n    <p>{`Then use the `}<inlineCode parentName=\"p\">{`--param-file`}</inlineCode>{` flag when creating actions, creating packages, or invoking actions:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// update action\naio rt:action:update test first-function.js --param-file my-params.json\n\n// invoke action\naio rt:action:invoke test --param-file my-params.json\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"final-parameters\"\n    }}>{`Final parameters`}</h3>\n    <p>{`Sometimes, applications need to make sure their default parameters are final, or immutable, so calling clients can't override them. Achieve this by adding the `}<inlineCode parentName=\"p\">{`final`}</inlineCode>{` annotation - `}<inlineCode parentName=\"p\">{`-a final true`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:update test first-function.js --web true --param name \"Runtime\" -a final true\n`}</code></pre>\n    <p>{`This mechanism works for all actions, including web actions.`}</p>\n    <h2 {...{\n      \"id\": \"invoking-web-actions\"\n    }}>{`Invoking web actions`}</h2>\n    <p>{`The actions shown above were invoked from the CLI. This is fine for development and test, but production systems might need to invoke actions from HTTP REST calls, for example from a web application. `}</p>\n    <p>{`Create web actions by adding the `}<em parentName=\"p\">{`--web`}</em>{` flag to the `}<inlineCode parentName=\"p\">{`aio`}</inlineCode>{` action command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`// creation time\naio rt:action:create test first-function.js --web true\n\n// update\naio rt:action:update test first-function.js --web true\n`}</code></pre>\n    <p>{`Note the `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` value used in the command: setting it to `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{`  would disable the web action.`}</p>\n    <p>{`To call a web action, specify the full path to the action, which you can find by adding the `}<inlineCode parentName=\"p\">{`--url`}</inlineCode>{` flag to the action command:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:get test --url\n`}</code></pre>\n    <p>{`This will return something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`ok: got action test\nhttps://adobeioruntime.net/api/v1/web/[your namespace]/default/test\n`}</code></pre>\n    <p>{`In the URL above, `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` stands for the `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` package that contains actions when you don't create them explicitly in a named package.`}</p>\n    <p>{`You can invoke the web action like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -L https://adobeioruntime.net/api/v1/web/[your namespace]/default/test -X GET\n`}</code></pre>\n    <p>{`or like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl https://[your namespace].adobeioruntime.net/api/v1/web/default/test -X GET\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note the difference between this URL and the one `}<inlineCode parentName=\"p\">{`aio`}</inlineCode>{` returns. This is because when invoking web actions, Runtime adds protections that segregate namespaces from each other . The `}<inlineCode parentName=\"p\">{`aio`}</inlineCode>{`-generated link will still work, but it will return a 308 redirect to your namespace's subdomain on Runtime. For a further discussion of this please see `}<a parentName=\"p\" {...{\n          \"href\": \"securing_web_actions.md\"\n        }}>{`Securing Web Actions`}</a>{`.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"successful-response\"\n    }}>{`Successful response`}</h3>\n    <p>{`To send a response that follows the status code-headers-body HTTP response structure from an action to be used as a web action, you could rewrite our sample function:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`function main(params) {\n    var nm = params.name || 'stranger';\n    return {\n        statusCode: 200,\n        body: {\n            payload: 'Hello ' + nm\n        }\n    }\n}\n\nexports.main = main;\n`}</code></pre>\n    <p>{`This approach also allows you to set cookies or cache control headers, perform HTTP redirects, and so on.`}</p>\n    <h3 {...{\n      \"id\": \"unsuccessful-response\"\n    }}>{`Unsuccessful response`}</h3>\n    <p>{`On failed action invocations, the error code and message should be wrapped in an `}<inlineCode parentName=\"p\">{`error`}</inlineCode>{` object: this allows the system to interpret the response as an `}<inlineCode parentName=\"p\">{`applicationError`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`async function main(params) {\n    try {\n        throw new Error(\"Boom!\")\n    } catch (err) {\n        return {\n            error: {\n                statusCode: 500,\n                body: {\n                    payload: \\`Something went wrong: \\${err}\\`\n                }\n            }\n        }\n    }\n}\n\nexports.main = main;\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"general-error-handling\"\n    }}>{`General error handling`}</h3>\n    <p>{`Handling errors in action code is extremely important: it is literally impossible to recover from a unhandled asynchronous errors in Node.js. Please refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://nodejs.org/api/process.html#event-uncaughtexception\"\n      }}>{`uncaughtExceptions`}</a>{` discussion in Node.js documentation.`}</p>\n    <p>{`An unhandled asynchronous errors will cause termination of the action and destruction of the container running it. As a result, all in-flight activations will be failed, and the next action invocation will incur the overhead of creating a new container.`}</p>\n    <p>{`Here are incorrect and correct methods to handle asynchronous errors:`}</p>\n    <h4 {...{\n      \"id\": \"incorrect-handling-of-async-errors\"\n    }}>{`Incorrect handling of async errors`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`function doSomethingAsync() {\n    return new Promise((resolve, reject) => {\n        try {\n            setTimeout(() => {\n                new Error(\"Something went wrong\");\n            }, 1000);\n        } catch (err) {\n            reject(err);\n        }\n    });\n}\n`}</code></pre>\n    <p>{`Here, the error is generated not while the executor is running, but afterwards. As a result, the try catch block will not catch the error, and the action will be terminated.`}</p>\n    <h4 {...{\n      \"id\": \"correct-handling-of-async-errors\"\n    }}>{`Correct handling of async errors`}</h4>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`function doSomethingAsync() {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            reject(new Error(\"Something went wrong\"));\n        }, 1000);\n    });\n}\n`}</code></pre>\n    <p>{`This code will execute correctly and the error will be handled.     `}</p>\n    <p>{`When asynchronous operations are performed, there is almost always a chance for something to go wrong: network errors, a database connection issues, unexpected inputs, and more.\nTo ensure the reliability and stability of the program, errors should always be handled inside the callback function passed to setTimeout or any other asynchronous function.`}</p>\n    <h3 {...{\n      \"id\": \"http-context\"\n    }}>{`HTTP context`}</h3>\n    <p>{`When executing actions as web actions, the `}<inlineCode parentName=\"p\">{`params`}</inlineCode>{` object is decorated with additional information:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Method`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`__ow_method`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the HTTP method of the request`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`__ow_headers`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the request headers`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`__ow_path`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the unmatched path of the request (matching stops after consuming the action extension)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`__ow_body`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the request body entity, as a base64-encoded string when its content is binary or JSON object/array, or as a plain string otherwise`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`__ow_query`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the query parameters from the request as an unparsed string`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`By default, web actions are accessible to anyone who knows their URLs. To secure access, review `}<a parentName=\"p\" {...{\n        \"href\": \"securing_web_actions.md\"\n      }}>{`Securing Web Actions`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"deploying-zip-actions\"\n    }}>{`Deploying ZIP actions`}</h2>\n    <p>{`The actions above were created from single source files. To create actions from multiple files or add npm modules, deploy ZIP actions. `}</p>\n    <p>{`Requirements to deploy a ZIP action are:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Configure `}<inlineCode parentName=\"p\">{`wskdeploy`}</inlineCode>{` instead of `}<inlineCode parentName=\"p\">{`aio`}</inlineCode>{` `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create the package.json file`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Create a manifest file`}</p>\n      </li>\n    </ul>\n    <h3 {...{\n      \"id\": \"wskdeploy\"\n    }}>{`wskdeploy`}</h3>\n    <p>{`If you need to install `}<inlineCode parentName=\"p\">{`wskdeploy`}</inlineCode>{`, check `}<a parentName=\"p\" {...{\n        \"href\": \"tools/wskdeploy_install.md\"\n      }}>{`Setting up the wskdeploy CLI`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"packagejson-file\"\n    }}>{`Package.json file`}</h3>\n    <p>{`You use the package.json file to specify the dependencies. If you don't have one already, in the same folder where your function files are, run `}<inlineCode parentName=\"p\">{`npm init -y`}</inlineCode>{`.`}</p>\n    <p>{`Make sure to declare any npm dependencies required for your functions in the package file.`}</p>\n    <h3 {...{\n      \"id\": \"wskdeploy-manifest-file\"\n    }}>{`wskdeploy manifest file`}</h3>\n    <p>{`The final step in deploying a ZIP action is to create the manifest file wskdeploy will use to create the action. In the parent folder of the folder that contains your function files and npm modules, create a `}<inlineCode parentName=\"p\">{`manifest.yaml`}</inlineCode>{`file. See the `}<a parentName=\"p\" {...{\n        \"href\": \"http://yaml.org/refcard.html\"\n      }}>{`YAML reference card`}</a>{` for more information on YAML format.`}</p>\n    <p>{`This is the folder structure:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`--/actions\n--/actions/node_modules/\n--/actions/index.js\n--/actions/package.json\n--manifest.yaml\n`}</code></pre>\n    <p>{`Here is a sample `}<inlineCode parentName=\"p\">{`manifest.yaml`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`packages:\n    # this is the package name\n    test:\n        actions:\n            # name of the action\n            test-zip:\n                # source for the action; in this case it is a folder\n                function: actions\n                runtime: nodejs:10\n                # publish the action as a web action\n                web:  yes\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: If your action requires dependencies such as other node modules or JavaScript files, place the action code in an `}<inlineCode parentName=\"p\">{`index.js`}</inlineCode>{` file and in the `}<inlineCode parentName=\"p\">{`manifest.yaml`}</inlineCode>{` file. The `}<inlineCode parentName=\"p\">{`function`}</inlineCode>{` value should point to the folder where the action is stored instead of the action file. These conditions are met in the example above.`}</p>\n    </blockquote>\n    <p>{`To deploy, run the `}<inlineCode parentName=\"p\">{`wskdeploy`}</inlineCode>{` command from the folder that contains `}<inlineCode parentName=\"p\">{`manifest.yaml`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`wskdeploy\n`}</code></pre>\n    <p>{`This will deploy an action called `}<inlineCode parentName=\"p\">{`test-zip`}</inlineCode>{` under a package called `}<inlineCode parentName=\"p\">{`test`}</inlineCode>{`; it can be invoked like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aio rt:action:invoke test/test-zip --result\n`}</code></pre>\n    <p>{`To emove the action, run `}<inlineCode parentName=\"p\">{`wskdeploy`}</inlineCode>{` with the `}<em parentName=\"p\">{`undeploy`}</em>{` flag:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`wskdeploy undeploy\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`wskdeploy`}</inlineCode>{` supports other useful flows; please check the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apache/openwhisk-wskdeploy\"\n      }}>{`official documentation`}</a>{` to learn about them.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: You can also deploy ZIP actions using the aio command. This approach lacks the flexibility of the manifest.yaml file: it won't allow definition of multiple actions or packages at the same time. The ZIP file has to have in the root the package.json file.  `}<inlineCode parentName=\"p\">{`aio rt:action:create my-action --kind nodejs:20 zip-file.zip`}</inlineCode></p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"next-step\"\n    }}>{`Next step`}</h2>\n    <p>{`Return to `}<a parentName=\"p\" {...{\n        \"href\": \"../../guides/index.md\"\n      }}>{`Guides Index`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}