"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[9631],{7373:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return l},default:function(){return s}});var i=a(58168),t=a(80045),o=(a(88763),a(15680)),r=a(83407);const p=["components"],l={},d={_frontmatter:l},m=r.A;function s(e){let{components:n}=e,a=(0,t.A)(e,p);return(0,o.mdx)(m,(0,i.A)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"distribution-overview"},"Distribution Overview"),(0,o.mdx)("p",null,"Developers may distribute App Builder applications privately or publicly."),(0,o.mdx)("h2",{id:"private"},"Private"),(0,o.mdx)("p",null,"Privately distributed apps are available only to users in the Developer's organization. They are submitted through the ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/"},"Developer Console"),", reviewed by an Administrator of the organization, and accessed through the ",(0,o.mdx)("a",{parentName:"p",href:"https://experience.adobe.com/#/@adobeio/custom-apps"},"App Builder Catalog"),". "),(0,o.mdx)("p",null,"See ",(0,o.mdx)("a",{parentName:"p",href:"../../get_started/app_builder_get_started/publish_app.md"},"Publishing Your First App Builder Application")," for a thorough discussion of this topic and a hands-on sample project."),(0,o.mdx)("blockquote",null,(0,o.mdx)("p",{parentName:"blockquote"},"Note: Only Adobe Experience Cloud Shell extensions may appear in the App Builder Catalog.")),(0,o.mdx)("h2",{id:"public"},"Public"),(0,o.mdx)("p",null,"Publicly distributed apps are available for installation by anyone on ",(0,o.mdx)("a",{parentName:"p",href:"https://exchange.adobe.com/apps/browse/ec"},"Adobe Exchange"),". "),(0,o.mdx)("h3",{id:"overview"},"Overview"),(0,o.mdx)("p",null,"Publicly distributed applications are available for any Adobe organization to install and distribute for access through ",(0,o.mdx)("a",{parentName:"p",href:"https://exchange.adobe.com/"},"Adobe Exchange"),". These apps are submitted through ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-distribution/"},"Adobe Developer Distribution")," and reviewed by Adobe. This section reviews configuration options and the steps required to prepare your app for public distribution."),(0,o.mdx)("h3",{id:"customer-configuration"},"Customer configuration"),(0,o.mdx)("p",null,"Developers of publicly distributable apps can define configuration options for customers to set during installation."),(0,o.mdx)("h4",{id:"defining-customer-configuration-options"},"Defining customer configuration options"),(0,o.mdx)("p",null,"Customer configuration can be defined through the ",(0,o.mdx)("inlineCode",{parentName:"p"},"configSchema")," property."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"app.config.yaml")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"application:\n  <application config>\nextensions:\n  <extension configs>\nconfigSchema: # This is a top-level property and is global to the app and all extensions\n  title: 'the title'\n  description: 'the description'\n  properties:\n    - title: 'Slack Webhook'\n      type: 'string'\n      description: 'Please provide the webhook used by this application. Configure in slack.com'\n      envKey: 'SLACK_WEBHOOK'\n")),(0,o.mdx)("h4",{id:"usage"},"Usage"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"envKey")," property of a customer configuration option maps to the environment variable name in the app."),(0,o.mdx)("h5",{id:"runtime-action"},"Runtime action"),(0,o.mdx)("p",null,"To use customer configuration in a Runtime action, map the ",(0,o.mdx)("inlineCode",{parentName:"p"},"envKey")," value for the desired variable to the inputs of the Runtime action, then access values via ",(0,o.mdx)("inlineCode",{parentName:"p"},"params.<envKey>")," in the action code."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"app.config.yaml")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'the title'\n  description: 'the description'\n  properties:\n    - title: 'enable caching'\n      type: 'boolean'\n      envKey: 'IS_CACHING_ENABLED'                      <--- Environment variable name\napplication:\n  actions: actions\n  web: web-src\n  runtimeManifest:\n    packages:\n      dx-excshell-1:\n        license: Apache-2.0\n        actions:\n          generic:\n            function: actions/generic/index.js\n            web: 'yes'\n            runtime: nodejs:16\n            inputs:\n              LOG_LEVEL: debug\n              IS_CACHING_ENABLED: $IS_CACHING_ENABLED   <--- Mapped environment variable\n            annotations:\n              require-adobe-auth: true\n              final: true\n              code-download: true\n")),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Action code")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},"async function main (params) {\n    if (params.IS_CACHING_ENABLED) {\n        enableCache()\n    }\n}\n\nexports.main = main\n")),(0,o.mdx)("h5",{id:"web-application"},"Web application"),(0,o.mdx)("p",null,"To use customer configuration in a web application, access values directly through ",(0,o.mdx)("inlineCode",{parentName:"p"},"process.env.<envKey>"),"."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"app.config.yaml")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'Configurable Web App'\n  description: 'Web application that can be configured.'\n  properties:\n    - title: 'Frontend background color'\n      type: string\n      description: 'Please provide the background color for your frontend'\n      enum:\n        - blue-400\n        - celery-400\n        - indigo-400\n      envKey: FRONTEND_BACKGROUND_COLOR                <--- Environment variable name\napplication:\n  web: web-src\n")),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Component.js")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},"<View backgroundColor={process.env.FRONTEND_BACKGROUND_COLOR}></View>\n")),(0,o.mdx)("h4",{id:"customer-configuration-types"},"Customer configuration types"),(0,o.mdx)("h5",{id:"text-field"},"Text field"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'Configure your application'\n  description: 'Set configurable variables for this Slack application'\n  properties:\n    - title: 'Slack Webhook'\n      type: 'string'\n      description: 'Please provide the webhook used by this application. Configure in slack.com'\n      envKey: 'SLACK_WEBHOOK'\n      default: 'https://slack.com/webhook'\n")),(0,o.mdx)("h5",{id:"checkbox"},"Checkbox"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'Configure your application'\n  description: 'Customize this application to meet your needs.'\n  properties:\n    - title: 'Enable caching'\n      description: 'Determines whether or not the app caches.'\n      type: 'boolean'\n      envKey: 'IS_CACHING_ENABLED'\n")),(0,o.mdx)("h5",{id:"dropdown"},"Dropdown"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'Configurable Web App'\n  description: 'Web application that can be configured.'\n  properties:\n    - title: 'Frontend background color'\n      type: string\n      description: 'Please provide the background color for your frontend'\n      enum:\n        - blue-400\n        - celery-400\n        - indigo-400\n      envKey: FRONTEND_BACKGROUND_COLOR\n")),(0,o.mdx)("h5",{id:"secret"},"Secret"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'the title'\n  description: 'the description'\n  properties:\n    - title: 'aws secret key'\n      type: 'string'\n      secret: true \n      envKey: 'AWS_SECRET'\n")),(0,o.mdx)("blockquote",null,(0,o.mdx)("p",{parentName:"blockquote"},"Note: This secret screenshot is pending a bug fix.")),(0,o.mdx)("h5",{id:"multiple-configuration-options"},"Multiple configuration options"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"configSchema:\n  title: 'Configurable Web App'\n  description: 'Web application that can be configured.'\n  properties:\n    - title: 'Frontend background color'\n      type: string\n      description: 'Please provide the background color for your frontend'\n      enum:\n        - blue-400\n        - celery-400\n        - indigo-400\n      envKey: FRONTEND_BACKGROUND_COLOR\n    - title: 'Enable caching'\n      description: 'Determines whether or not the app caches.'\n      type: 'boolean'\n      envKey: 'IS_CACHING_ENABLED'\n    - title: 'Slack Webhook'\n      type: 'string'\n      description: 'Please provide the webhook used by this application. Configure in slack.com'\n      envKey: 'SLACK_WEBHOOK'\n      default: 'https://slack.com/webhook'\n")),(0,o.mdx)("h3",{id:"required-products"},"Required products"),(0,o.mdx)("p",null,"Developers of publicly distributable App Builder apps can define Adobe products that are required for their apps to work properly. The ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-distribution/experience-cloud/docs/guides/discoverandmanage/#discover"},"Discover")," and ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-distribution/experience-cloud/docs/guides/discoverandmanage/#acquire"},"Acquire")," sections of the distribution documentation show how these options are surfaced to customers."),(0,o.mdx)("h4",{id:"defining-required-products"},"Defining required products"),(0,o.mdx)("p",null,"Required products can be defined using the ",(0,o.mdx)("inlineCode",{parentName:"p"},"productDependencies")," property."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"app.config.yaml")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-yaml"},"application:\n  <application config>\nextensions:\n  <extension configs>\nconfigSchema: \n  <customer configuration>\nproductDependencies: \n  - code: AEP\n    minVersion: 0.0.0\n    maxVersion: 1.0.0\n")),(0,o.mdx)("h5",{id:"valid-products"},"Valid products"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"AEM")," - Experience Manager"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"AAM")," - Audience Manager"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"ANLYTC")," - Analytics"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"CMPGN")," - Campaign"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"TRGT")," - Target"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"AEP")," - Experience Platform Services"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"COMMC")," - Commerce Cloud"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"MRKTO")," - Marketo Engage"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"WRKFRNT")," - Workfront"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"AAC")," - Advertising Cloud"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"RTCDP")," - Real-time Customer Data Platform"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"AJO")," - Journey Optimizer"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"CJA")," - Customer Journey Analytics"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("strong",{parentName:"li"},"GPM")," - GenStudio for Performance Marketing")),(0,o.mdx)("p",null,"Product version information can be found on ",(0,o.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/en/docs"},"Adobe Experience League"),"."),(0,o.mdx)("h3",{id:"packaging-for-developer-distribution"},"Packaging for developer distribution"),(0,o.mdx)("p",null,"Once an app is configured for public distribution, it can be packaged and uploaded to ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-distribution/"},"Adobe Developer Distribution"),". "),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"aio app pack")," command verifies and bundles applications for upload. In the root of your app folder, run:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sh"},"aio app pack\n")),(0,o.mdx)("p",null,"When it completes, you will find the app package in your app folder as ",(0,o.mdx)("inlineCode",{parentName:"p"},"dist/app.zip"),". Continue to the ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-distribution/"},"Adobe Developer Distribution")," documentation for details on how to upload it."),(0,o.mdx)("h4",{id:"validation"},"Validation"),(0,o.mdx)("p",null,"When a Developer uploads a package to Adobe Developer Distribution, these validations are performed:"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("inlineCode",{parentName:"li"},"app.config.yaml")," is checked for format validity, returning configuration errors to fix if necessary"),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("inlineCode",{parentName:"li"},"package.json")," version format must be ",(0,o.mdx)("inlineCode",{parentName:"li"},"X.Y.Z"),", where X, Y, and Z are non-negative integers"),(0,o.mdx)("li",{parentName:"ol"},"files to be packaged - all files in your app folder will be packaged except:",(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"files specified in ",(0,o.mdx)("inlineCode",{parentName:"li"},".gitignore")),(0,o.mdx)("li",{parentName:"ul"},"files specified in ",(0,o.mdx)("inlineCode",{parentName:"li"},".npmignore")),(0,o.mdx)("li",{parentName:"ul"},"any ",(0,o.mdx)("inlineCode",{parentName:"li"},"dist")," folders"),(0,o.mdx)("li",{parentName:"ul"},"any dot files (.env, .gitignore, etc)"),(0,o.mdx)("li",{parentName:"ul"},"any OS junk files (.DS_Store, thumbs.db, etc)"))),(0,o.mdx)("li",{parentName:"ol"},"event registrations, if any, for validity")),(0,o.mdx)("h4",{id:"hooks"},"Hooks"),(0,o.mdx)("p",null,"Two ",(0,o.mdx)("a",{parentName:"p",href:"architecture_overview/app_hooks.md"},"hooks")," are available to customize the packaging step:"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("inlineCode",{parentName:"li"},"pre-pack")," - runs before packaging"),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("inlineCode",{parentName:"li"},"post-pack")," - runs after packaging")),(0,o.mdx)("p",null,"Hook-handler functions will be passed two items:"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("inlineCode",{parentName:"li"},"appConfig")," (object) contains the configuration of the current application"),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("inlineCode",{parentName:"li"},"artifactsFolder")," (string) is the location of the folder that contains all the packaging artifacts to be bundled")),(0,o.mdx)("h2",{id:"next-step"},"Next step"),(0,o.mdx)("p",null,"Return to the ",(0,o.mdx)("a",{parentName:"p",href:"../index.md"},"Guides Index"),"."))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-app-builder-guides-distribution-md-ef2382f864bcfa8cf749.js.map