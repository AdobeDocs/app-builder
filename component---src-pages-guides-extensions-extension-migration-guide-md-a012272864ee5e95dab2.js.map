{"version":3,"file":"component---src-pages-guides-extensions-extension-migration-guide-md-a012272864ee5e95dab2.js","mappings":"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","sources":["webpack://adobe-developer-app-builder/./src/pages/guides/extensions/extension_migration_guide.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/app-builder/app-builder/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1>{`Extension Migration Guide`}</h1>\n    <p>{`As of July 28, 2021, we have officially released support for `}<a parentName=\"p\" {...{\n        \"href\": \"index.md\"\n      }}>{`Extensions`}</a>{` in App Builder. This release allows you to extend Adobe Experience Cloud through App Builder applications in a more native and integrated fashion. `}</p>\n    <p>{`While all existing application built prior to July 28,2021 should continue to work as expected without any further action. In the next 90 days (until Oct 28, 2021), please update your Adobe I/O CLI and migrate your application as weâ€™ll be retiring the previous services. Follow this guide to migrate your application in a few simple steps.`}</p>\n    <h2 {...{\n      \"id\": \"understanding-configuration-changes\"\n    }}>{`Understanding Configuration Changes`}</h2>\n    <p>{`With the introduction of `}<a parentName=\"p\" {...{\n        \"href\": \"index.md\"\n      }}>{`Extensions`}</a>{`, we have made a few changes to App Builder project file structures and to how we compile configurations. Before you get started on the migration, please read through the changes so that you can make an informed decision for how to refactor your project during the migration.`}</p>\n    <h3 {...{\n      \"id\": \"old-file-structure\"\n    }}>{`Old File Structure`}</h3>\n    <p>{`Previously, if you initialize a new App Builder Project in the CLI, you will see the following folders and files in your project: `}</p>\n    <ol>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`actions`}</inlineCode>{`: this folder is intended for backend source code for all serverless actions`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`web-src`}</inlineCode>{`: this folder is intended for frontend source code such as html templates, react components, JS, CSS`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`test`}</inlineCode>{`: this folder is intended for back-end action unit tests and integration tests`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`e2e`}</inlineCode>{`: this folder is intended for  end-to-end tests`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{`: this file describes the backend actions you would like to deploy or to redeploy. `}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The manifest file contents should adhere to the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/apache/openwhisk-wskdeploy/tree/master/specification#package-specification\"\n            }}>{`OpenWhisk deployment YAML specification`}</a>{`. Once defined, the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/adobe/aio-cli\"\n            }}>{`CLI`}</a>{` use this file to deploy or redeploy actions. You might see values like `}<inlineCode parentName=\"li\">{`$CUSTOMER_PROFILE_TENANT`}</inlineCode>{` listed on this page. These are environment variables that you can define in your `}<inlineCode parentName=\"li\">{`.env`}</inlineCode>{` file. `}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`package.json`}</inlineCode>{`: this file describes project definition and various metadata relevant to the project. `}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`It is used to give information to npm that allows it to identify the project as well as handle the project's dependencies. Learn more `}<a parentName=\"li\" {...{\n              \"href\": \"https://nodejs.org/en/knowledge/getting-started/npm/what-is-the-file-package-json/\"\n            }}>{`here`}</a>{`.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`.aio`}</inlineCode>{`: this file contains config variables that are useful for the `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/adobe/aio-cli\"\n        }}>{`CLI`}</a>{` to facilitate the app, e.g. supported API services. `}<strong parentName=\"li\">{`This file can be committed to a source code versioning system.`}</strong>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`You can manually update the file or use the `}<inlineCode parentName=\"li\">{`aio config`}</inlineCode>{` commands to add or to remove configurations. Learn more about the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/adobe/aio-cli-plugin-config\"\n            }}>{`Config Plugin`}</a>{`. `}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`.env`}</inlineCode>{`: this file contains environment variables that are useful for the app during development, e.g. Adobe I/O Runtime credentials and Adobe Product API tenant specifics (API key, secrets, etc.)`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The environment variables defined here can be used in the application (e.g. in `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{`). If you've set up credentials for the selected workspaces, you should be able to see some of those values prepopulated upon initialization, like `}<inlineCode parentName=\"li\">{`AIO_runtime_auth`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`AIO_runtime_namespace`}</inlineCode>{`. `}</li>\n          <li parentName=\"ul\">{`This file is automatically included in `}<inlineCode parentName=\"li\">{`.gitignore`}</inlineCode>{`. `}<strong parentName=\"li\">{`It is not intended be shared given the credentials and secrets listed.`}</strong></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`console.json`}</inlineCode>{`: this file contains the credentials set up through your App Builder project. `}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`This file is also automatically included in `}<inlineCode parentName=\"li\">{`.gitignore`}</inlineCode>{`. `}<strong parentName=\"li\">{`It is not intended be shared given the credentials and secrets listed.`}</strong>{` `}</li>\n          <li parentName=\"ul\">{`This file can be downloaded directly from the `}<a parentName=\"li\" {...{\n              \"href\": \"/app-builder/console\"\n            }}>{`Adobe Developer Console`}</a>{` as well. You can retrieve it by going to a workspace, and clicking on the `}<inlineCode parentName=\"li\">{`Download all`}</inlineCode>{` button. `}</li>\n        </ul>\n      </li>\n    </ol>\n    <h3 {...{\n      \"id\": \"new-file-structure\"\n    }}>{`New File Structure`}</h3>\n    <p>{`With the introduction of extensions, your new file structure would look something like this --`}</p>\n    <ol>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`src`}</inlineCode>{`: Instead of one folder for all `}<inlineCode parentName=\"li\">{`actions`}</inlineCode>{` and all `}<inlineCode parentName=\"li\">{`web-src`}</inlineCode>{`, you will see individual folders under `}<inlineCode parentName=\"li\">{`src`}</inlineCode>{` for each Extension point you have selected. For instance, a `}<inlineCode parentName=\"li\">{`dx-excshell-1`}</inlineCode>{` folder for your Experience Cloud SPA actions and frontend resources. `}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Under each folder, you should be able to see both the actions and the frontend code when application. In addition, you should be able to see `}<inlineCode parentName=\"li\">{`ext.config.yaml`}</inlineCode>{`. This file contains all the action and extension configuration for the extension point where it's located. This individual configuration allows for more flexibility in defining and managing individual extension points. You can see that this file is also imported to `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{` as that's the master config file. `}</li>\n          <li parentName=\"ul\">{`The action definition in this file shoud adhere to the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/apache/openwhisk-wskdeploy/tree/master/specification#package-specification\"\n            }}>{`OpenWhisk deployment YAML specification`}</a>{`.`}</li>\n          <li parentName=\"ul\">{`Once defined, the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/adobe/aio-cli\"\n            }}>{`CLI`}</a>{` use this file to deploy or redeploy actions. You might see values like `}<inlineCode parentName=\"li\">{`$CUSTOMER_PROFILE_TENANT`}</inlineCode>{` listed under environments in this file. These are environment variables that you can define in your `}<inlineCode parentName=\"li\">{`.env`}</inlineCode>{` file. `}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`: this is the master configuration file. It follows the same principle as the individual `}<inlineCode parentName=\"li\">{`ext.config.yaml`}</inlineCode>{`, and compiles these individual file into one comprehensive config upon application build. `}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`lib`}</inlineCode>{`: this folder will contain all the shared utility actions across different extension points. `}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`package.json`}</inlineCode>{`: this file describes project definition and various metadata relevant to the project. `}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`It is used to give information to npm that allows it to identify the project as well as handle the project's dependencies. Learn more `}<a parentName=\"li\" {...{\n              \"href\": \"https://nodejs.org/en/knowledge/getting-started/npm/what-is-the-file-package-json/\"\n            }}>{`here`}</a>{`.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`.aio`}</inlineCode>{`: this file contains config variables that are useful for the `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/adobe/aio-cli\"\n        }}>{`CLI`}</a>{` to facilitate the app, e.g. supported API services.`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`You can manually update the file or use the `}<inlineCode parentName=\"li\">{`aio config`}</inlineCode>{` commands to add or to remove configurations. Learn more about the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/adobe/aio-cli-plugin-config\"\n            }}>{`Config Plugin`}</a>{`. `}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`.env`}</inlineCode>{`: this file contains environment variables that are useful for the app during development, e.g. Adobe I/O Runtime credentials and Adobe Product API tenant specifics (API key, secrets, etc.)`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The environment variables defined here can be used in the application (e.g. in `}<inlineCode parentName=\"li\">{`ext.config.yaml`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`). If you've set up credentials for the selected workspaces, you should be able to see some of those values prepopulated upon initialization, like `}<inlineCode parentName=\"li\">{`AIO_runtime_auth`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`AIO_runtime_namespace`}</inlineCode>{`. `}</li>\n          <li parentName=\"ul\">{`This file is automatically included in `}<inlineCode parentName=\"li\">{`.gitignore`}</inlineCode>{`. `}<strong parentName=\"li\">{`It is not intended be shared given the credentials and secrets listed.`}</strong></li>\n        </ul>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"step-by-step-migration-instruction\"\n    }}>{`Step-by-step Migration Instruction`}</h2>\n    <p>{`Please follow the steps below for a detailed instruction for how to migrate your application! `}</p>\n    <h3 {...{\n      \"id\": \"0-understanding-the-difference\"\n    }}>{`0. Understanding the Difference`}</h3>\n    <p>{`Let's start with the why you need to migrate your application. What happens if you migrate your application:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`You will be able to take advantage of Extensions and the flexibility of our new configuration set up!`}</li>\n      <li parentName=\"ol\">{`Your application will be using our new validator -- providing more granular access control to ensure the security of your application. Read more about this in our `}<a parentName=\"li\" {...{\n          \"href\": \"../security/index.md\"\n        }}>{`Security Guide`}</a>{`.`}</li>\n    </ol>\n    <p>{`What happens if you don't migrate:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`During this release, we have automatically indexed your application in the backend. If you update your application (and it is an SPA in Experience Cloud or an AEM Asset Microservices Custom Processing Profile) using the old CLI (up to 7.1.0), you should see no change until the end of October when we retire some services. `}</li>\n      <li parentName=\"ol\">{`If you update the CLI before the end of October, but didnot refactor your code following the guide below, you may no longer be able to see your application in Experience Cloud UI and will need to refactor your code. `}</li>\n      <li parentName=\"ol\">{`Long story short -- don't upgrade the CLI until you are ready to refactor your project, and do refactor your project within the next three months. `}</li>\n    </ol>\n    <p>{`With this context, let's dive in. `}</p>\n    <h3 {...{\n      \"id\": \"1-update-tooling\"\n    }}>{`1. Update Tooling`}</h3>\n    <p>{`First of all, please make sure your local tooling and environment set up is up to date. You can find the latest supported environment and tooling info in `}<a parentName=\"p\" {...{\n        \"href\": \"../../getting_started\"\n      }}>{`here`}</a>{`. `}</p>\n    <h3 {...{\n      \"id\": \"2-update-configuration\"\n    }}>{`2. Update Configuration`}</h3>\n    <p>{`Your existing application could be one of three types: `}</p>\n    <ol>\n      <li parentName=\"ol\">{`an application not extending any Extension Points (for instance, your application is a standalone Headless application `}<strong parentName=\"li\">{`OR`}</strong>{` a standalone Single Page Application that does not integrate with Experience Cloud UI)`}</li>\n      <li parentName=\"ol\">{`an application extending `}<strong parentName=\"li\">{`one`}</strong>{` Extension Points (for instance, your application is a Single Page Application accessed through Experience Cloud UI `}<strong parentName=\"li\">{`OR`}</strong>{` a Custom Processing Profile for AEM Asset Microservices)`}</li>\n      <li parentName=\"ol\">{`an application extending `}<strong parentName=\"li\">{`two or more`}</strong>{` Extension Points (for instance, your application is a Custom Processing Profile for AEM Asset Microservices `}<strong parentName=\"li\">{`AND`}</strong>{` contains a Single Page Application accessible through Experience Cloud UI).`}</li>\n    </ol>\n    <p>{`Learn more about Extension Points in `}<a parentName=\"p\" {...{\n        \"href\": \"index.md\"\n      }}>{`Introduction to Extensions`}</a>{`. Based on the nature of your existing project, please following the corresponding the section below. `}</p>\n    <h4 {...{\n      \"id\": \"21-application-not-extending-any-extension-points\"\n    }}>{`2.1 Application not extending any Extension Points`}</h4>\n    <p>{`Congratulations! Technically you won't NEED to do any refactoring. Our CLI will continue to support the old configuration system. `}</p>\n    <p>{`That being said, if you do plan to integrate with Extension Points in the future or simply want to make sure your project is up-to-date, we highly recommend that you follow the instruction in the next section to refactor your codebase. `}</p>\n    <p>{`Please note that if you have a headless application and you have the `}<inlineCode parentName=\"p\">{`require-adobe-auth`}</inlineCode>{` set to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{`, refactoring your codebase and redeploying your application with the new CLI will switch you to our new validator, which means we'll validate the token passed in belongs to the same IMS organization, and contains product profile required for your application. For instance, if your application uses Adobe Analytics API, the token you pass in must also have access to Adobe Analytics.`}</p>\n    <h5 {...{\n      \"id\": \"instructions\"\n    }}>{`Instructions:`}</h5>\n    <ol>\n      <li parentName=\"ol\">{`Create `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{` file in the root directory of your project.`}</li>\n      <li parentName=\"ol\">{`Move the content of the `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{` to `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`, then delete `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{` file`}</li>\n      <li parentName=\"ol\">{`Move any application hooks you have set up under `}<inlineCode parentName=\"li\">{`scripts`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`package.json`}</inlineCode>{` into `}<inlineCode parentName=\"li\">{`applications.hooks`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{` configuration file.`}</li>\n      <li parentName=\"ol\">{`Move any configuration found under the `}<inlineCode parentName=\"li\">{`.app`}</inlineCode>{` section of the `}<inlineCode parentName=\"li\">{`.aio`}</inlineCode>{` configuration file into the `}<inlineCode parentName=\"li\">{`applications`}</inlineCode>{` section of the new `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{` configuration file.`}</li>\n    </ol>\n    <h5 {...{\n      \"id\": \"sample-appconfigyaml-file-after-the-refactoring\"\n    }}>{`Sample `}<inlineCode parentName=\"h5\">{`app.config.yaml`}</inlineCode>{` File after the refactoring:`}</h5>\n    <pre><code parentName=\"pre\" {...{}}>{`# standalone application\napplication:\n  hostname: 'customhost'\n  runtimeManifest:\n    packages:\n      application-pkg:\n        license: Apache-2.0\n        actions:\n          count-apples:\n            function: actions/count-apples/index.js\n            web: 'yes'\n            annotations:\n              require-adobe-auth: true\n  hooks:\n    post-app-build: 'echo hook'\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"22-application-extending-one-extension-point\"\n    }}>{`2.2 Application Extending one Extension Point`}</h4>\n    <p>{`Follow this section if your application is a Single Page Application accessed through Experience Cloud UI OR a Custom Processing Profile for AEM Asset Microservices.`}</p>\n    <h5 {...{\n      \"id\": \"instructions-1\"\n    }}>{`Instructions:`}</h5>\n    <ol>\n      <li parentName=\"ol\">{`Create `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{` file in the root directory of your project.`}</li>\n      <li parentName=\"ol\">{`Create a definition for the extension in your `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`. If you have a Single Page Application in Experience Cloud UI, use `}<inlineCode parentName=\"li\">{`dx/exchshell/1:`}</inlineCode>{` with `}<inlineCode parentName=\"li\">{`operations`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`view`}</inlineCode>{`. If you have a AEM Asset Microservices Custom Profile, use `}<inlineCode parentName=\"li\">{`dx/sset-compute/worker/1:`}</inlineCode>{` with `}<inlineCode parentName=\"li\">{`operations`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`workerProcess`}</inlineCode>{`. (See sample configurations below)`}</li>\n      <li parentName=\"ol\">{`Move the content of the `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{` under the extensions in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`, then delete `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{` file`}</li>\n      <li parentName=\"ol\">{`Move any application hooks you have set up under `}<inlineCode parentName=\"li\">{`scripts`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`package.json`}</inlineCode>{` into `}<inlineCode parentName=\"li\">{`extensions.<extensionname>.hooks`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode></li>\n      <li parentName=\"ol\">{`move any configuration under `}<inlineCode parentName=\"li\">{`.app`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`.aio`}</inlineCode>{` into `}<inlineCode parentName=\"li\">{`extensions.<extensionname>`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`.`}</li>\n    </ol>\n    <h5 {...{\n      \"id\": \"sample-appconfigyaml-file-after-the-refactoring-1\"\n    }}>{`Sample `}<inlineCode parentName=\"h5\">{`app.config.yaml`}</inlineCode>{` File after the refactoring:`}</h5>\n    <p><strong parentName=\"p\">{`SPA in Experience Cloud UI`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`extensions:\n  dx/excshell/1:\n    operations:\n      view:\n        - type: web\n          impl: index.html\n    runtimeManifest:\n      packages:\n        <newpackagename>:\n          license: Apache-2.0\n          actions:\n            todolist:\n              function: actions/todolist/index.js\n              web: 'yes'\n              runtime: 'nodejs:14'\n              inputs:\n                LOG_LEVEL: debug\n              annotations:\n              require-adobe-auth: true\n              final: true\n  hooks:\n    post-app-build: 'echo hook'\n`}</code></pre>\n    <p><strong parentName=\"p\">{`AEM Asset Microservices`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`extensions:\n  dx/asset-compute/worker/1:\n    operations:\n      workerProcess:\n        - type: web\n          impl: worker\n    runtimeManifest:\n      packages:\n        <newpackagename>:\n          license: Apache-2.0\n          actions:\n            worker:\n              function: actions/worker/index.js\n              web: 'yes'\n              runtime: 'nodejs:14'\n              inputs:\n                LOG_LEVEL: debug\n              annotations:\n              require-adobe-auth: true\n              final: true\n  hooks:\n    post-app-build: 'echo hook'\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"23-application-extending-two-or-more-extension-points\"\n    }}>{`2.3 Application Extending two or more Extension Points`}</h4>\n    <p>{`Follow this section your application is a Custom Processing Profile for AEM Asset Microservices AND contains a Single Page Application accessible through Experience Cloud UI. `}</p>\n    <p>{`Please note that there are multiple ways to structure your configuration. You can refactor your code into folders for each extension, and create extension specific configuration, then import them into your main `}<inlineCode parentName=\"p\">{`app.config.yaml`}</inlineCode>{` using `}<inlineCode parentName=\"p\">{`$include: path/to/myfile.yaml`}</inlineCode>{`, you can also manage them all in one file in the root directory `}<inlineCode parentName=\"p\">{`app.config.yaml`}</inlineCode>{`. You could try to initialize a new project with multiple extension points through `}<inlineCode parentName=\"p\">{`aio app init`}</inlineCode>{` to see how we structure the code and config file my default. Below, we are showing the easiest way to refactor by merging all config into `}<inlineCode parentName=\"p\">{`app.config.yaml`}</inlineCode>{`, but you are more than welcome to explore and to try different methods. `}</p>\n    <h5 {...{\n      \"id\": \"instructions-2\"\n    }}>{`Instructions:`}</h5>\n    <ol>\n      <li parentName=\"ol\">{`Create `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{` file in the root directory of your project.`}</li>\n      <li parentName=\"ol\">{`Create the definitions for the extensions in your `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`. For the Single Page Application in Experience Cloud UI, use `}<inlineCode parentName=\"li\">{`dx/exchshell/1:`}</inlineCode>{` with `}<inlineCode parentName=\"li\">{`operations`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`view`}</inlineCode>{`. For the AEM Asset Microservices Custom Profile, use `}<inlineCode parentName=\"li\">{`dx/sset-compute/worker/1:`}</inlineCode>{` with `}<inlineCode parentName=\"li\">{`operations`}</inlineCode>{` set to `}<inlineCode parentName=\"li\">{`workerProcess`}</inlineCode>{`. (See sample configurations below)`}</li>\n      <li parentName=\"ol\">{`Move the content of the `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{` under the extensions in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`, then delete `}<inlineCode parentName=\"li\">{`manifest.yml`}</inlineCode>{` file`}</li>\n      <li parentName=\"ol\">{`Move any application hooks you have set up under `}<inlineCode parentName=\"li\">{`scripts`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`package.json`}</inlineCode>{` into `}<inlineCode parentName=\"li\">{`extensions.<extensionname>.hooks`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode></li>\n      <li parentName=\"ol\">{`move any configuration under `}<inlineCode parentName=\"li\">{`.app`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`.aio`}</inlineCode>{` into `}<inlineCode parentName=\"li\">{`extensions.<extensionname>`}</inlineCode>{` in `}<inlineCode parentName=\"li\">{`app.config.yaml`}</inlineCode>{`.`}</li>\n    </ol>\n    <h5 {...{\n      \"id\": \"sample-appconfigyaml-file-after-the-refactoring-2\"\n    }}>{`Sample `}<inlineCode parentName=\"h5\">{`app.config.yaml`}</inlineCode>{` File after the refactoring:`}</h5>\n    <p><strong parentName=\"p\">{`App Builder Project Extending Multiple Extension Points`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`extensions:\n  dx/excshell/1:\n    operations:\n      view:\n        - type: web\n          impl: index.html\n    runtimeManifest:\n      packages:\n        <newpackagename>:\n          license: Apache-2.0\n          actions:\n            todolist:\n              function: actions/todolist/index.js\n              web: 'yes'\n              runtime: 'nodejs:14'\n              inputs:\n                LOG_LEVEL: debug\n              annotations:\n              require-adobe-auth: true\n              final: true\n  dx/asset-compute/worker/1:\n    operations:\n      workerProcess:\n        - type: web\n          impl: worker\n    runtimeManifest:\n      packages:\n        <newpackagename>:\n          license: Apache-2.0\n          actions:\n            worker:\n              function: actions/worker/index.js\n              web: 'yes'\n              runtime: 'nodejs:14'\n              inputs:\n                LOG_LEVEL: debug\n              annotations:\n              require-adobe-auth: true\n              final: true\n  hooks:\n    post-app-build: 'echo hook'\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"3-testing\"\n    }}>{`3. Testing`}</h3>\n    <p>{`Once you've completed your refactoring, simply try `}<inlineCode parentName=\"p\">{`aio app run`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`aio app deploy`}</inlineCode>{`, and everything should work as usual. `}</p>\n    <p>{`Should you run into any issues, please contact us through the `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleaguecommunities.adobe.com/t5/project-firefly/ct-p/project-firefly\"\n      }}>{`Experience League Forum`}</a>{` and we'll support you as soon as possible.`}</p>\n    <h2 {...{\n      \"id\": \"adding-or-removing-endpoints-from-existing-projects\"\n    }}>{`Adding or removing Endpoints from Existing Projects`}</h2>\n    <p>{`Similar to actions, you can choose to directly edit your extension configuration by modifying your code. Alternatively, we provide a few simple commands:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`aio app add ext`}</inlineCode>{` for adding a new Extension Point to your application. `}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`aio app delete ext`}</inlineCode>{` for deleting an existing Extension Point project and configuration. `}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}