"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[587],{10825:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return d},default:function(){return m}});var a=t(58168),o=t(80045),i=(t(88763),t(15680)),r=t(83407);const s=["components"],d={},c={_frontmatter:d},l=r.A;function m(e){let{components:n}=e,t=(0,o.A)(e,s);return(0,i.mdx)(l,(0,a.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"retrieve-action-invocation-results"},"Retrieve Action Invocation Results"),(0,i.mdx)("p",null,"The activation record of an action invocation contains information to help you understand what happened. It contains the invocation's: "),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"Activation ID"),", a unique identifier")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"Namespace")," and ",(0,i.mdx)("strong",{parentName:"p"},"action name")," of the invoked action")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"Logs"),", if your action generated any")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},(0,i.mdx)("strong",{parentName:"p"},"Response"),", a dictionary that contains the status, success, and result of the invoked action"))),(0,i.mdx)("h2",{id:"retrieve-activations"},"Retrieve activations"),(0,i.mdx)("p",null,"If you have invoked an action named ",(0,i.mdx)("inlineCode",{parentName:"p"},"hello")," and enter the command: "),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"aio rt:activation:list")),(0,i.mdx)("p",null,"You will see a list of activation IDs from actions invoked during the preceding seven days, along with the name of each invoked action:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"e9932762894d4ccf932762894d6ccff4 hello            \nc76dbe66e9b04ad5adbe66e9b06ad541 hello            \n[]...]\n")),(0,i.mdx)("p",null,"You can retrieve the entire activation record by entering ",(0,i.mdx)("inlineCode",{parentName:"p"},"aio rt:activation:get <activation id>"),":"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'aio rt:activation:get e9932762894d4ccf932762894d6ccff4\nok: got activation e9932762894d4ccf932762894d6ccff4\n{\n    "namespace": "your-namespace",\n    "name": "hello",\n    "version": "0.0.20",\n    "subject": "your-namespace",\n    "activationId": "e9932762894d4ccf932762894d6ccff4",\n    "start": 1542232412321,\n    "end": 1542232412366,\n    "duration": 45,\n    "response": {\n        "status": "success",\n        "statusCode": 0,\n        "success": true,\n        "result": {\n            "body": {\n                "payload": {\n                    "message": "hello world!"\n                }\n            },\n            "statusCode": 200\n        }\n    },\n    "logs": [],\n    "annotations": [\n        {\n            "key": "path",\n            "value": "your-namespace/hello"\n        },\n        {\n            "key": "waitTime",\n            "value": 23\n        },\n        {\n            "key": "kind",\n            "value": "nodejs:10-fat"\n        },\n        {\n            "key": "limits",\n            "value": {\n                "logs": 10,\n                "memory": 256,\n                "timeout": 60000\n            }\n        },\n        {\n            "key": "initTime",\n            "value": 40\n        }\n    ],\n    "publish": false\n}\n')),(0,i.mdx)("p",null,"You can also retrieve part of the activation record:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"// just the result\naio rt:activation:result <activation ID>\n\n// just the logs\naio rt:activation:logs <activation ID>\n")),(0,i.mdx)("h2",{id:"block-or-unblock-successful-activations"},"Block or unblock successful activations"),(0,i.mdx)("p",null,"At a scale of millions of activations per day, it may be difficult to screen out successful activations to debug those that failed. To simplify this task, I/O Runtime doesn't persist successful activations. "),(0,i.mdx)("p",null,"The exceptions are asynchronous actions invoked in a non-blocking fashion. Their results are persisted regardless of success or failure, so you can extract their responses later. "),(0,i.mdx)("p",null,"You can still view the total number of executions, as described in the ",(0,i.mdx)("a",{parentName:"p",href:"../../guides/runtime_guides/logging_monitoring.md"},"Logging and Monitoring")," Guide. "),(0,i.mdx)("p",null,"To review all activation results during development, set the extra logging header to ",(0,i.mdx)("inlineCode",{parentName:"p"},"on")," in the request: "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"X-OW-EXTRA-LOGGING: on\n")),(0,i.mdx)("p",null,"We do not recommend use of the extra logging headers in production environments, since it may degrade invocation performance. "),(0,i.mdx)("h2",{id:"retrieve-activations-for-non-blocking-calls"},"Retrieve activations for non-blocking calls"),(0,i.mdx)("p",null,"Execution of a non-blocking asynchronous action immediately returns its activation ID. Queries for an action's result or logs before execution is compete will generate an error:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"aio rt:activation:get 1d24121f91384740a4121f91389740f0\nerror: Unable to get activation '1d24121f91384740a4121f91389740f0': The requested resource does not exist. (code myM2aaCufgIcnjnrbNIHztNmhL2HvFia)\n\n\naio rt:activation:logs c8c4f354c1824f2c84f354c182ef2cdb\nerror: Unable to get logs for activation 'c8c4f354c1824f2c84f354c182ef2cdb': The requested resource does not exist. (code nCPo4KRbYmvOTcwPQVfDJdrwtJpv1c3d)\n")),(0,i.mdx)("h2",{id:"activation-time-to-live"},"Activation time to live"),(0,i.mdx)("p",null,"Activation time to live is seven days, a system setting, and can't be changed by Developers. If you can't see activations that you know took place, they may have timed out."),(0,i.mdx)("h2",{id:"next-steps"},"Next steps"),(0,i.mdx)("p",null,'This completes the "Get Started with Adobe I/O Runtime" tutorial. '),(0,i.mdx)("p",null,"For a detailed review of Runtime components, operations, settings, and tuning, see ",(0,i.mdx)("a",{parentName:"p",href:"understanding_runtime.md"},"Understanding I/O Runtime"),"."),(0,i.mdx)("p",null,"The procedures described above will help you debug your first actions. For additional details about debugging tools and processes, review the ",(0,i.mdx)("a",{parentName:"p",href:"../../guides/runtime_guides/logging_monitoring.md"},"Logging and Monitoring")," Guide."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-get-started-runtime-getting-started-activations-md-48901a5226fdfeef665a.js.map