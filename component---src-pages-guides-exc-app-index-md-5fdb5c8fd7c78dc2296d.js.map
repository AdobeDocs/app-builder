{"version":3,"sources":["webpack://project-firefly/./src/pages/guides/exc_app/index.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-exc-app-index-md-5fdb5c8fd7c78dc2296d.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/project-firefly/project-firefly/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"integration-guide-with-adobe-experience-cloud\"\n    }}>{`Integration Guide with Adobe Experience Cloud`}</h1>\n    <p>{`Adobe Experience Cloud gives you everything you need to bring world-class experiences to every\ncustomer. It consists of multiple solutions that power insights, content, engagement, commerce and\noptimization.  The unified shell web application at\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://experience.adobe.com\"\n      }}>{`https://experience.adobe.com`}</a>{` provides a unified user experience for\ncustomers to manage these solutions from a single place.`}</p>\n    <p>{`The solution experiences run within an iframe in the unified shell web application and can interact\nwith components of the unified shell such as topbar, menus, nps, alerts, etc. These interactions are\nmade possible through two components: -`}</p>\n    <ol>\n      <li parentName=\"ol\">{`A module-runtime script that is injected into the product iframe`}</li>\n      <li parentName=\"ol\">{`This @adobe/exc-app package that provides an API to interact with the injected module-runtime\nscript.`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#exc-app\"\n        }}>{`exc-app`}</a>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#getting-started\"\n            }}>{`Getting Started`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#features\"\n            }}>{`Features`}</a>\n            <ul parentName=\"li\">\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#apis\"\n                }}>{`APIs`}</a>\n                <ul parentName=\"li\">\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#root\"\n                    }}>{`root`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#page\"\n                    }}>{`Page`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#topbar\"\n                    }}>{`TopBar`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#user\"\n                    }}>{`User`}</a></li>\n                </ul>\n              </li>\n              <li parentName=\"ul\"><a parentName=\"li\" {...{\n                  \"href\": \"#events\"\n                }}>{`Events`}</a>\n                <ul parentName=\"li\">\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#ready\"\n                    }}>{`Ready`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#configuration\"\n                    }}>{`Configuration`}</a></li>\n                  <li parentName=\"ul\"><a parentName=\"li\" {...{\n                      \"href\": \"#history\"\n                    }}>{`History`}</a></li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#licensing\"\n            }}>{`Licensing`}</a></li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting Started`}</h2>\n    <p>{`To get started with this integration, below two things need to be done.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Include the runtime loader script on the home page`}</li>\n      <li parentName=\"ol\">{`Include the `}<a parentName=\"li\" {...{\n          \"href\": \"https://www.npmjs.com/package/@adobe/exc-app\"\n        }}>{`@adobe/exc-app`}</a>{` package in your NPM\n`}<inlineCode parentName=\"li\">{`package.json`}</inlineCode>{` and invoke the init API.`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {init} from '@exc/runtime';\n\ninit(runtime => {\n  // Example initialization for a solution that uses React\n  ReactDOM.render(<MyProductPage runtime={runtime} />, document.querySelector('#main'));\n});\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"features\"\n    }}>{`Features`}</h2>\n    <h3 {...{\n      \"id\": \"apis\"\n    }}>{`APIs`}</h3>\n    <h4 {...{\n      \"id\": \"root\"\n    }}>{`root`}</h4>\n    <p>{`Core APIs that let solutions initialize the application, provide access to the runtime object from\nanywhere in the app, listen to events.\n`}<a parentName=\"p\" {...{\n        \"href\": \"./modules/root.md\"\n      }}>{`learn more`}</a></p>\n    <h4 {...{\n      \"id\": \"page\"\n    }}>{`Page`}</h4>\n    <p>{`APIs that let solutions interact with the main page and personalize it, e.g. setting the title,\nfavicon, refreshing the solution iframe, etc.\n`}<a parentName=\"p\" {...{\n        \"href\": \"./modules/page.md\"\n      }}>{`learn more`}</a></p>\n    <h4 {...{\n      \"id\": \"topbar\"\n    }}>{`TopBar`}</h4>\n    <p>{`APIs that let solutions interact with the top bar and personalize it, e.g. configuring the solution\narea on the left, setting up workspaces, custom search, etc.\n`}<a parentName=\"p\" {...{\n        \"href\": \"./modules/topbar.md\"\n      }}>{`learn more`}</a></p>\n    <h4 {...{\n      \"id\": \"user\"\n    }}>{`User`}</h4>\n    <p>{`APIs to request user-specific information such as IMS organization, IMS profile, access token,\ntenant, etc. It also  provides solutions with other capabilities such as notifying the shell that\nthe session has expired and configuring a logout URL to expire custom sessions.\n`}<a parentName=\"p\" {...{\n        \"href\": \"./modules/user.md\"\n      }}>{`learn more`}</a></p>\n    <h3 {...{\n      \"id\": \"events\"\n    }}>{`Events`}</h3>\n    <p>{`Events are emitted by the module runtime when it receives certain messages from the Unified Shell.`}</p>\n    <h4 {...{\n      \"id\": \"ready\"\n    }}>{`Ready`}</h4>\n    <p>{`The ready event fires when the initial configuration has been received from the Shell. It would\nmake sense to wait for this event before rendering the application or setting any workspaces. The\nlocale will be required to do globalization and we require the workspaces translated prior to\nsetting them on the Shell, since we don’t (and shouldn’t) have translations for every Solution’s\nworkspaces.`}</p>\n    <p><strong parentName=\"p\"><em parentName=\"strong\">{`Example:`}</em></strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import excApp from '@exc/runtime';\n\nfunction setup() {\n  const runtime = excApp();\n  runtime.on('ready', ({imsOrg, imsToken, locale}) => {\n  this.setState({\n      imsOrg,\n      imsToken,\n      loading: false,\n      locale\n  });\n  });\n}\n`}</code></pre>\n    <p><strong parentName=\"p\"><em parentName=\"strong\">{`Payload:`}</em></strong></p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`baseUrl`}</inlineCode>{`: Base url for the solution.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`environment`}</inlineCode>{`: Environment being used.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`historyType`}</inlineCode>{`: Type of history.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`imsEnvironment`}</inlineCode>{`: IMS environment. This follows general rules unless shell_ims query param is\nin use.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`imsOrg`}</inlineCode>{`: IMS org ID.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`imsOrgName`}</inlineCode>{`: Name of the IMS org.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`imsProfile`}</inlineCode>{`: Object containing information about the authenticated user.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`imsToken`}</inlineCode>{`: IMS token.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`locale`}</inlineCode>{`: Locale string for globalization.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`preferredLanguages`}</inlineCode>{`: List of preferred languages from the user's IMS profile.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`shellInfo`}</inlineCode>{`: Shell related information needed to populate the shell UI. More details about what\nis included are Shell API.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`tenant`}</inlineCode>{`: tenant name for current ims org.`}</li>\n    </ul>\n    <h4 {...{\n      \"id\": \"configuration\"\n    }}>{`Configuration`}</h4>\n    <p>{`The configuration event fires when any configuration changes from the Shell. This has the same\npayload as the ready event.`}</p>\n    <p><strong parentName=\"p\"><em parentName=\"strong\">{`Example:`}</em></strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import runtime from '@exc/runtime';\n\nfunction setup() {\n  const runtime = excApp();\n  runtime.on('configuration', ({imsOrg, imsToken, locale}) => {\n    if (imsOrg !== this.state.imsOrg) {\n      // Change org\n    }\n    this.setState({imsOrg, imsToken, locale});\n  });\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"history\"\n    }}>{`History`}</h4>\n    <p>{`The history event fires when the browser history changes and the frame needs to know about it.`}</p>\n    <p><strong parentName=\"p\"><em parentName=\"strong\">{`Example:`}</em></strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`import runtime from '@exc/runtime';\n\nfunction setup() {\n  const runtime = excApp();\n  runtime.on('history', ({type, path}) => {\n    const cleanedPath = path[0] === '/' ? path : '/' + path;\n    if (type === 'external' && this.history.location.pathname !== cleanedPath) {\n      this.history.replace(cleanedPath);\n    }\n  });\n}\n`}</code></pre>\n    <p><strong parentName=\"p\"><em parentName=\"strong\">{`Payload:`}</em></strong></p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`type`}</inlineCode>{`: Internal or external depending on where the event originates from.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`path`}</inlineCode>{`: The new path to update the browser history with.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"licensing\"\n    }}>{`Licensing`}</h2>\n    <p>{`This project is licensed under the Creative Commons Attribution-NoDerivatives 4.0 International Public License. See `}<a parentName=\"p\" {...{\n        \"href\": \"https://creativecommons.org/licenses/by-nd/4.0/\"\n      }}>{`LICENSE`}</a>{` for more information.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}