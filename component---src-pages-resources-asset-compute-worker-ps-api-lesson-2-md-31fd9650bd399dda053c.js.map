{"version":3,"file":"component---src-pages-resources-asset-compute-worker-ps-api-lesson-2-md-31fd9650bd399dda053c.js","mappings":"kTAMaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAUC,GAG/B,IAHgC,WACjCC,GAEDD,EADIE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAOC,EAAAA,EAAAA,KAACR,GAASS,EAAAA,EAAAA,GAAA,GAAKV,EAAiBM,EAAK,CAAED,WAAYA,EAAYM,QAAQ,eAG5EF,EAAAA,EAAAA,KAAA,MACE,GAAM,8BACJ,gCACJA,EAAAA,EAAAA,KAAA,MACE,GAAM,gCACJ,gCACJA,EAAAA,EAAAA,KAAA,SAAI,2GAA0GA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,QAAqB,8EAC/JH,EAAAA,EAAAA,KAAA,SAAI,+NACJA,EAAAA,EAAAA,KAAA,mBACEA,EAAAA,EAAAA,KAAA,KAAGG,WAAW,cAAc,sLAE9BH,EAAAA,EAAAA,KAAA,SAAI,kHACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,uMAWNH,EAAAA,EAAAA,KAAA,SAAI,kHACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,4CAENH,EAAAA,EAAAA,KAAA,SAAI,kMAAiMA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,gCAA6C,mCAAkCH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,gBAA6B,qDACzWH,EAAAA,EAAAA,KAAA,SAAI,2IAA0IA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,eAA4B,iGAAgGH,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,yBAAsC,uLACxWH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,wMAONH,EAAAA,EAAAA,KAAA,SAAI,kCAAiCA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,kCAA+C,gFAChHH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,uBACX,wOASV,CAEAT,EAAWU,gBAAiB,C","sources":["webpack://adobe-developer-app-builder/./src/pages/resources/asset-compute-worker-ps-api/lesson2.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/app-builder/app-builder/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"lesson-2-configure-the-app\"\n    }}>{`Lesson 2: Configure the App`}</h1>\n    <h1 {...{\n      \"id\": \"lesson-2-configure-the-app-1\"\n    }}>{`Lesson 2: Configure the App`}</h1>\n    <p>{`As you log in when creating the application, most of the App Builder credentials get collected in your `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file. However, using the Developer tool requires additional credentials.`}</p>\n    <p>{`The Developer tool used to test custom applications with the actual Asset Compute service requires a cloud storage container for hosting test files and for receiving and displaying renditions generated by applications.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: This is separate from the cloud storage of Adobe Experience Manager as a Cloud Service. It applies only to development and testing using the Asset Compute Developer tool.`}</p>\n    </blockquote>\n    <p>{`You can use either S3 or Azure storage for this purpose by adding credentials of (only) one storage solution.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`# S3 credentials\nS3_BUCKET=\nAWS_ACCESS_KEY_ID=\nAWS_SECRET_ACCESS_KEY=\nAWS_REGION=\n\n# Azure Storage credentials\nAZURE_STORAGE_ACCOUNT=\nAZURE_STORAGE_KEY=\nAZURE_STORAGE_CONTAINER_NAME=\n`}</code></pre>\n    <p>{`Then add the absolute path to the private key file created while adding services to your App Builder Project:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`ASSET_COMPUTE_PRIVATE_KEY_FILE_PATH=\n`}</code></pre>\n    <p>{`Finally, download the file from the Adobe Developer Console. Go to the root of the workspace you are using and click on “Download All” in the upper-right corner. The file is downloaded with `}<inlineCode parentName=\"p\">{`<namespace>-<workspace>.json`}</inlineCode>{` as the filename. Rename it to `}<inlineCode parentName=\"p\">{`console.json`}</inlineCode>{` and move it in the root folder of your project.`}</p>\n    <p>{`Once all the credentials are properly configured, you can execute the application with the Asset Compute Developer Tool by the command `}<inlineCode parentName=\"p\">{`aio app run`}</inlineCode>{`. This deploys the action to Adobe I/O Runtime and starts the development tool, available at `}<inlineCode parentName=\"p\">{`http://localhost:9000`}</inlineCode>{`, on your local machine. You can then upload a test image, specify the rendition request, and then run the test to see the rendition result. Here is an example rendition request:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`\"renditions\": [\n    {\n        \"worker\": \"https://1234-projectA-workspaceB.adobeioruntime.net/api/v1/web/example-custom-worker-0.0.1/worker\",\n        \"name\": \"custom_rendition.png\"\n    }\n]\n`}</code></pre>\n    <p>{`Looking at the action code in `}<inlineCode parentName=\"p\">{`actions/<worker-name>/index.js`}</inlineCode>{`, you can see it simply copies the source file to generate a new rendition.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const { worker, SourceCorruptError } = require('@adobe/asset-compute-sdk');\nconst fs = require('fs').promises;\n\nexports.main = worker(async (source, rendition) => {\n    await fs.copyFile(source.path, rendition.path);\n});\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}