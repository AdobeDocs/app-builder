"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[9628],{97353:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return c}});var n=a(58168),o=a(80045),i=(a(88763),a(15680)),p=a(83407);const r=["components"],s={},l={_frontmatter:s},d=p.A;function c(e){let{components:t}=e,a=(0,o.A)(e,r);return(0,i.mdx)(d,(0,n.A)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"lesson-1-setup-cicd"},"Lesson 1: Setup CI/CD"),(0,i.mdx)("p",null,"App Builder comes with pre-defined GitHub actions to manage your CI/CD workflow. ",(0,i.mdx)("strong",{parentName:"p"},"GitHub actions can only work once the App Builder app and the corresponding GitHub actions are committed to a GitHub repository.")),(0,i.mdx)("h2",{id:"setup-your-github-repository-for-your-app-builder-app"},"Setup your GitHub repository for your App Builder App"),(0,i.mdx)("p",null,"To put your App Builder App up on GitHub, you'll need to create a repository for it to live in. You can follow these ",(0,i.mdx)("a",{parentName:"p",href:"https://help.github.com/en/github/getting-started-with-github/create-a-repo"},"steps")," to create an empty repository.\nOnce your repository is available on GitHub, you can copy your repository url e.g. ",(0,i.mdx)("inlineCode",{parentName:"p"},"https://github.com/<org>/<project_name>.git"),"."),(0,i.mdx)("p",null,"Then in the command line, use ",(0,i.mdx)("inlineCode",{parentName:"p"},"git clone https://github.com/<org>/<project_name>.git")," to clone the repository to your local system."),(0,i.mdx)("p",null,"Go to the project folder with ",(0,i.mdx)("inlineCode",{parentName:"p"},"cd <project_name>")," and run the command ",(0,i.mdx)("inlineCode",{parentName:"p"},"aio app init")," to bootstrap a new App Builder Application from the ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-cli"},"CLI"),", the application generator will ask whether to include GitHub Actions based workflows for Build, Test and Deploy."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/5530d/bootstrap.webp 320w","/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/0c8fb/bootstrap.webp 640w","/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/94b1e/bootstrap.webp 1280w","/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/617b0/bootstrap.webp 1384w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/dd4a7/bootstrap.png 320w","/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/0f09e/bootstrap.png 640w","/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/bbbf7/bootstrap.png 1280w","/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/622c8/bootstrap.png 1384w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/ce95ac917b3bdad69bccb0f3a268016a/bbbf7/bootstrap.png",alt:"bootstrap",title:"bootstrap",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("h2",{id:"github-actions"},"GitHub actions"),(0,i.mdx)("p",null,"The CI/CD workflow relies on Adobe I/O GitHub Actions published on the GitHub Marketplace:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"adobe/aio-cli-setup-action")," used to install and configure the ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/adobe/aio-cli"},"CLI")," on the GitHub infrastructure running the workflow that invoked the action. See ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/marketplace/actions/aio-cli-setup"},"CLI Setup"),"."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"adobe/aio-apps-action")," used to centralize the support for a GitHub workflow to leverage several application specific commands, such as testing via ",(0,i.mdx)("inlineCode",{parentName:"li"},"aio app test")," and deployment via ",(0,i.mdx)("inlineCode",{parentName:"li"},"aio app deploy"),". See ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/adobe/aio-apps-action"},"Apps"),".                                                                              ")),(0,i.mdx)("p",null,"By selecting the CI/CD workflow option, the application code will be initialized with an additional ",(0,i.mdx)("inlineCode",{parentName:"p"},".github")," folder at its root. "),(0,i.mdx)("p",null,"This folder contains default GitHub Workflows that can be customized and extended if needed. "),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"pr_test.yml")," is the GitHub action that will run the App unit tests on the stage environment by calling ",(0,i.mdx)("inlineCode",{parentName:"p"},"aio app test")," against the requested changes. It will run anytime the ",(0,i.mdx)("a",{parentName:"p",href:"https://help.github.com/en/actions/reference/events-that-trigger-workflows#pull-request-event-pull_request"},"pull_request")," event occurs."),(0,i.mdx)("blockquote",null,(0,i.mdx)("p",{parentName:"blockquote"},"Note: The versions in the example workflow files below (ex. @3) may not be the latest. We recommend updating to the newest major version when starting a new project, especially if setup is not working. To see the latest release, go to the Releases section of ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/adobe/aio-apps-action"},"adobe/aio-apps-action"),".")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-yaml"},"name: AIO App CI\n\non: [pull_request]\njobs:\n  test:\n    name: Test PR\n    runs-on: ${{ matrix.os }}\n    strategy:\n      matrix:\n        node-version: ['20']\n        os: [macOS-latest, ubuntu-latest, windows-latest]\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ matrix.node-version }}\n      - name: npm install\n        run: npm i\n      - name: Setup CLI\n        uses: adobe/aio-cli-setup-action@3\n        with:\n          os: ${{ matrix.os }}\n      - name: Build\n        uses: adobe/aio-apps-action@3\n        with:\n          os: ${{ matrix.os }}\n          command: build\n          AIO_RUNTIME_NAMESPACE: ${{ secrets.AIO_RUNTIME_NAMESPACE_STAGE }}\n      - name: Test\n        uses: adobe/aio-apps-action@3\n        with:\n          os: ${{ matrix.os }}\n          command: test\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"deploy_stage.yml")," is the GitHub action that will deploy the App Builder App to the stage environment on every new commit on the ",(0,i.mdx)("inlineCode",{parentName:"p"},"master")," branch by calling ",(0,i.mdx)("inlineCode",{parentName:"p"},"aio app deploy"),".\nIt will run anytime the ",(0,i.mdx)("a",{parentName:"p",href:"https://help.github.com/en/actions/reference/events-that-trigger-workflows#push-event-push"},"push")," event occurs on the ",(0,i.mdx)("inlineCode",{parentName:"p"},"master")," branch. "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-yaml"},"name: AIO App CI\n\non:\n  push:\n    branches:\n      - master\njobs:\n  deploy:\n    name: Deploy to Stage\n    runs-on: ${{ matrix.os }}\n    strategy:\n      max-parallel: 1\n      matrix:\n        node-version: ['20']\n        os: [ubuntu-latest]\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ matrix.node-version }}\n      - name: npm install\n        run: npm i\n      - name: Setup CLI\n        uses: adobe/aio-cli-setup-action@1\n        with:\n          os: ${{ matrix.os }}\n      - name: Build\n        uses: adobe/aio-apps-action@3\n        with:\n          os: ${{ matrix.os }}\n          command: build\n          AIO_RUNTIME_NAMESPACE: ${{ secrets.AIO_RUNTIME_NAMESPACE_STAGE }}\n      - name: Deploy\n        uses: adobe/aio-apps-action@3\n        with:\n          os: ${{ matrix.os }}\n          command: deploy\n          AIO_RUNTIME_AUTH: ${{ secrets.AIO_RUNTIME_AUTH_STAGE }}\n          AIO_RUNTIME_NAMESPACE: ${{ secrets.AIO_RUNTIME_NAMESPACE_STAGE }}\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"deploy_prod.yml")," is the GitHub action that will deploy the App Builder App to the production environment by calling ",(0,i.mdx)("inlineCode",{parentName:"p"},"aio app deploy"),". It will run anytime the ",(0,i.mdx)("a",{parentName:"p",href:"https://help.github.com/en/actions/reference/events-that-trigger-workflows#release-event-release"},"release")," event occurs. Please read ",(0,i.mdx)("a",{parentName:"p",href:"https://help.github.com/en/github/administering-a-repository/managing-releases-in-a-repository"},"GitHub's documentation ")," to learn how to perform releases. "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-yaml"},"name: AIO App CI\n\non:\n  release:\n    types: [published]\njobs:\n  deploy:\n    name: Deploy to Prod\n    runs-on: ${{ matrix.os }}\n    strategy:\n      max-parallel: 1\n      matrix:\n        node-version: ['14']\n        os: [ubuntu-latest]\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v4\n        with:\n          node-version: ${{ matrix.node-version }}\n      - name: npm install\n        run: npm i\n      - name: Setup CLI\n        uses: adobe/aio-cli-setup-action@1\n        with:\n          os: ${{ matrix.os }}\n      - name: Build\n        uses: adobe/aio-apps-action@3\n        with:\n          os: ${{ matrix.os }}\n          command: build\n          AIO_RUNTIME_NAMESPACE: ${{ secrets.AIO_RUNTIME_NAMESPACE_PROD }}\n      - name: Deploy\n        uses: adobe/aio-apps-action@3\n        with:\n          os: ${{ matrix.os }}\n          command: deploy\n          AIO_RUNTIME_AUTH: ${{ secrets.AIO_RUNTIME_AUTH_PROD }}\n          AIO_RUNTIME_NAMESPACE: ${{ secrets.AIO_RUNTIME_NAMESPACE_PROD }} \n")),(0,i.mdx)("p",null,"The back-end serverless actions get deployed to Runtime, while the SPA gets deployed to the out-of-the-box CDN for every deployment whether to stage or production.    "),(0,i.mdx)("p",null,"For that, we'll push the project on GitHub with ",(0,i.mdx)("inlineCode",{parentName:"p"},'git commit "Initial commit" && git push origin master')," which will commit the App Builder App to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"master")," branch of the GitHub repository."),(0,i.mdx)("p",null,"The GitHub actions defined in ",(0,i.mdx)("inlineCode",{parentName:"p"},"deploy_stage.yml")," will run by default. Go to ",(0,i.mdx)("inlineCode",{parentName:"p"},"https://github.com/<org>/<project_name>/actions")," to see the workflow running:"),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"24.375000000000004%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/9817a440d7eceb370f033a8f746dd89b/5530d/workflow-failure.webp 320w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/0c8fb/workflow-failure.webp 640w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/94b1e/workflow-failure.webp 1280w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/0b34d/workflow-failure.webp 1920w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/d5269/workflow-failure.webp 2560w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/1c319/workflow-failure.webp 2684w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/9817a440d7eceb370f033a8f746dd89b/dd4a7/workflow-failure.png 320w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/0f09e/workflow-failure.png 640w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/bbbf7/workflow-failure.png 1280w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/ac7a9/workflow-failure.png 1920w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/c7a69/workflow-failure.png 2560w","/app-builder/static/9817a440d7eceb370f033a8f746dd89b/8ac3b/workflow-failure.png 2684w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/9817a440d7eceb370f033a8f746dd89b/bbbf7/workflow-failure.png",alt:"workflow-failure",title:"workflow-failure",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"By default, the workflow will fail as we didn't specify the GitHub secrets yet.")),(0,i.mdx)("h2",{id:"github-secrets"},"GitHub secrets"),(0,i.mdx)("p",null,"To differentiate Stage from Production environments, the GitHub actions rely on ",(0,i.mdx)("a",{parentName:"p",href:"https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets"},"GitHub secrets"),". Encrypted secrets allow you to store sensitive information, such as access tokens, in your repository. "),(0,i.mdx)("p",null,"By default, the secrets required for ",(0,i.mdx)("inlineCode",{parentName:"p"},"deploy_prod.yml")," for the ",(0,i.mdx)("strong",{parentName:"p"},"Production environment")," are named: "),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"AIO_RUNTIME_NAMESPACE_PROD")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"AIO_RUNTIME_AUTH_PROD"))),(0,i.mdx)("p",null,"And the secrets required for ",(0,i.mdx)("inlineCode",{parentName:"p"},"deploy_stage.yml")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"pr_test.yml")," for the Stage environment** are named: "),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"AIO_RUNTIME_NAMESPACE_STAGE")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"AIO_RUNTIME_AUTH_STAGE"))),(0,i.mdx)("p",null,"To add a secret to your project:"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Go to ",(0,i.mdx)("inlineCode",{parentName:"li"},"https://github.com/<org>/<project_name>/settings/secrets")),(0,i.mdx)("li",{parentName:"ol"},"Type the name of your secret, for example ",(0,i.mdx)("inlineCode",{parentName:"li"},"AIO_RUNTIME_NAMESPACE_PROD"),' in the "Name" input box.'),(0,i.mdx)("li",{parentName:"ol"},"Type the value for your secret. ")),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"59.06250000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/5530d/secrets.webp 320w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/0c8fb/secrets.webp 640w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/94b1e/secrets.webp 1280w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/0b34d/secrets.webp 1920w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/abe75/secrets.webp 2020w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/dd4a7/secrets.png 320w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/0f09e/secrets.png 640w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/bbbf7/secrets.png 1280w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/ac7a9/secrets.png 1920w","/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/f27d7/secrets.png 2020w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/5e1c03d74d39c30b42e6bbcead6f78a9/bbbf7/secrets.png",alt:"secrets",title:"secrets",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,"If you can't add secrets to the repository, possibilities include:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"You're not the repository owner if the repository is a user account repository"),(0,i.mdx)("li",{parentName:"ul"},"You don't have admin access for an organization repository"),(0,i.mdx)("li",{parentName:"ul"},"You don't have write access to the repository if you're using the ",(0,i.mdx)("a",{parentName:"li",href:"https://developer.github.com/v3/actions/secrets/#create-or-update-a-secret-for-a-repository"},"GitHub Actions secrets API"))),(0,i.mdx)("p",null,"The secrets value can be retrieved in the ",(0,i.mdx)("a",{parentName:"p",href:"https://console.adobe.io/"},"Developer Console"),", from which you can download  Stage and Production namespaces and credentials."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.0625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/5530d/developer-console.webp 320w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/0c8fb/developer-console.webp 640w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/94b1e/developer-console.webp 1280w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/0b34d/developer-console.webp 1920w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/c0666/developer-console.webp 2004w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/dd4a7/developer-console.png 320w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/0f09e/developer-console.png 640w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/bbbf7/developer-console.png 1280w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/ac7a9/developer-console.png 1920w","/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/3a775/developer-console.png 2004w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/app-builder/static/869e85e4cd863840a5b5d3b7eb96a315/bbbf7/developer-console.png",alt:"developer-console",title:"developer-console",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    "),"  "),(0,i.mdx)("p",null,"Follow these steps to retrieve the value for the secrets: ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_NAMESPACE_STAGE"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_AUTH_STAGE")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_NAMESPACE_PROD"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_AUTH_PRD"),": "),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Go to the ",(0,i.mdx)("a",{parentName:"li",href:"https://console.adobe.io/"},"Developer Console")),(0,i.mdx)("li",{parentName:"ol"},"Select the right org, project and workspace"),(0,i.mdx)("li",{parentName:"ol"},"Click on the Download all button on the top right ")),(0,i.mdx)("p",null,"This will download a ",(0,i.mdx)("inlineCode",{parentName:"p"},"json")," file like this:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'{\n    "project": {\n        "id": "...",\n        "name": "...",\n        "title": "...",\n        "org": {\n            "id": "...",\n            "name": "...",\n            "ims_org_id": "..."\n        },\n        "workspace": {\n            "id": "...",\n            "name": "...",\n            "title": "...",\n            "description": "...",\n            "action_url": "...",\n            "app_url": "...",\n            "details": {\n                "credentials": [],\n                "services": [],\n                "runtime": {\n                    "namespaces": [\n                        {\n                            "name": AIO_RUNTIME_NAMESPACE_VALUE,\n                            "auth": AIO_RUNTIME_AUTH_VALUE\n                        }\n                    ]\n                }\n            }\n        }\n    }\n}\n')),(0,i.mdx)("p",null,"Now you can copy the value of ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_NAMESPACE_VALUE")," and to ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_AUTH_VALUE")," to your GitHub secrets.\nSimply repeat these steps for your Stage or Production workspace. "),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Alternatively, you can use the CLI to retrieve these values.")," "),(0,i.mdx)("p",null,"Run these commands:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"aio where // Shows you where your CLI config points to in terms of org/project/workspace\n\naio console org list // List which org you can work with\naio console org select <orgId> // Select the org you want to work with\n\naio console project list // List which project you can work with\naio console project select <projectid> // Select the project you want to work with\n\naio console workspace list // List which workspace you can work with\naio console workspace select <wkspId> // Select the workspace you want to work with\n\naio app use -m // Merge the selected environment settings from the Developer Console into the current working environment.  \n")),(0,i.mdx)("p",null,"Then go to the ",(0,i.mdx)("inlineCode",{parentName:"p"},".env")," file in your project and copy the values of ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_runtime_namespace")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"AIO_runtime_auth")," into your GitHub secrets.\nRepeat the steps for Stage / Production by switching to another workspace using ",(0,i.mdx)("inlineCode",{parentName:"p"},"aio console workspace select <wkspId>"),".   "))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-resources-ci-cd-lesson-1-md-862cdf571664973ebe9b.js.map