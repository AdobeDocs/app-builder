{"version":3,"file":"component---src-pages-guides-runtime-guides-reference-docs-sequences-compositions-md-53e009b1ec400e7714d3.js","mappings":"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","sources":["webpack://adobe-developer-app-builder/./src/pages/guides/runtime_guides/reference_docs/sequences_compositions.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/app-builder/app-builder/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"sequences-and-compositions\"\n    }}>{`Sequences and Compositions`}</h1>\n    <p>{`There are two ways to orchestrate a series of action calls into a flow: sequences and compositions.`}</p>\n    <p>{`Sequences are strings of actions invoked one after another. At each step the result of the preceding action feeds into the arguments of the next one. There is no support for skipping actions.`}</p>\n    <p>{`Compositions execute a tree of actions or use the result of one action to determine the next, as in an if/then/else control structure.`}</p>\n    <h2 {...{\n      \"id\": \"sequences\"\n    }}>{`Sequences`}</h2>\n    <p>{`Assuming two actions created in a package called `}<inlineCode parentName=\"p\">{`my-package`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`/my-package/actionA\n/my-package/actionB\n`}</code></pre>\n    <p>{`Create a sequence using the `}<inlineCode parentName=\"p\">{`--sequence`}</inlineCode>{` flag in addition to the usual command for creating an action. Be sure to add the namespace to the action name or you'll receive an unauthorized access error:\n`}<inlineCode parentName=\"p\">{`aio rt:action:create mySequence --sequence /[your-namespace]/my-package/actionA,/[your-namespace]/my-package/actionB`}</inlineCode></p>\n    <p>{`Invoke this as you would any other action, for example:\n`}<inlineCode parentName=\"p\">{`aio rt:action:invoke --result mySequence`}</inlineCode></p>\n    <h3 {...{\n      \"id\": \"sequences-and-timeout\"\n    }}>{`Sequences and timeout`}</h3>\n    <p>{`When invoking a sequence in a blocking manner, there is a 60-second timeout limit that can't be changed: the sum of the execution times of all actions in the sequence must be 60 seconds or less. `}</p>\n    <p>{`If we apply this limitation to the example above, then `}<inlineCode parentName=\"p\">{`actionA`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`actionB`}</inlineCode>{` have a total budget of 60 seconds. Although the system allows you to set a higher timeout value for `}<inlineCode parentName=\"p\">{`mySequence`}</inlineCode>{`, it will ignore the value and enforce the 60-second limit.`}</p>\n    <p>{`If one of your actions needs more than 60 seconds (therefore putting the sequence over the limit), the only solution is to invoke it as a non-blocking action using the OpenWhisk npm module. So, using the same example, you could have `}<inlineCode parentName=\"p\">{`actionA`}</inlineCode>{` calling another action in a non-blocking manner. You can see an example of how to do this `}<a parentName=\"p\" {...{\n        \"href\": \"../../runtime_guides/asynchronous_calls.md\"\n      }}>{`here`}</a>{`.`}</p>\n    <p>{`Read more about sequences on the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apache/incubator-openwhisk/blob/master/docs/actions.md#creating-action-sequences\"\n      }}>{`OpenWhisk documentation page`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"compositions\"\n    }}>{`Compositions`}</h2>\n    <p>{`To orchestrate a more complex flow without having to jam all the code into a single action, use Apache OpenWhisk Composer. Composer lets you assemble actions, including other compositions, together and control the executions using control-flow structure: if, while, repeat. The result of a composition gives you a single entry point and behaves like an action: it supports default parameters, can be placed into a package, or used as web action.`}</p>\n    <h3 {...{\n      \"id\": \"install-composer\"\n    }}>{`Install Composer`}</h3>\n    <p>{`To use this featuren, install the Composer Node.js package:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`npm install -g openwhisk-composer\n`}</code></pre>\n    <p>{`Use it to create the JSON file you need to deploy a composition. The flow for creating a composition is:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Define the composition using JavaScript`}</li>\n      <li parentName=\"ol\">{`Run the `}<inlineCode parentName=\"li\">{`compose`}</inlineCode>{` command to generate the JSON file out of this JavaScript file`}</li>\n      <li parentName=\"ol\">{`Run `}<inlineCode parentName=\"li\">{`deploy`}</inlineCode>{` to deploy the composition using the JSON file you generated in the previous step`}</li>\n    </ol>\n    <p>{`For, example, assume you have actions deployed called `}<inlineCode parentName=\"p\">{`a`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`b`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`c`}</inlineCode>{` and want to create a composition that executes `}<inlineCode parentName=\"p\">{`a`}</inlineCode>{` and, in case of success, `}<inlineCode parentName=\"p\">{`b`}</inlineCode>{`; and if not;  `}<inlineCode parentName=\"p\">{`c`}</inlineCode>{`. Use the Composer package to define this composition in a JavaScript file `}<inlineCode parentName=\"p\">{`myComp.js`}</inlineCode>{`: `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`const composer = require('openwhisk-composer')\n\nmodule.exports = composer.if(‘a’, ‘b’, ‘c’)\n`}</code></pre>\n    <p>{`With the composition defined, generate the JSON definition needed for deployment:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`compose myComp.js > myComp.json\n`}</code></pre>\n    <p>{`To deploy:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`deploy compositionA myComp.json\n`}</code></pre>\n    <p>{`This creates a composition called `}<inlineCode parentName=\"p\">{`compositionA`}</inlineCode>{`. Invoke it like any other action - `}<inlineCode parentName=\"p\">{`aio rt:action:invoke compositionA`}</inlineCode>{`. When you do this, action `}<inlineCode parentName=\"p\">{`a`}</inlineCode>{` is invoked first. Then, if `}<inlineCode parentName=\"p\">{`a`}</inlineCode>{` is successful, action `}<inlineCode parentName=\"p\">{`b`}</inlineCode>{` is invoked; if not, action `}<inlineCode parentName=\"p\">{`c`}</inlineCode>{` is invoked.`}</p>\n    <p>{`More information is available at:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Apache OpenWhisk Composer `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/apache/incubator-openwhisk-composer\"\n        }}>{`home page`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/apache/incubator-openwhisk-composer/blob/master/docs/COMBINATORS.md\"\n        }}>{`Combinators`}</a>{`, with a complete list of the control-flow structure.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"parallel-compositions\"\n    }}>{`Parallel compositions`}</h3>\n    <p>{`I/O Runtime does not support parallel compositions.`}</p>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next steps`}</h2>\n    <p>{`Return to the `}<a parentName=\"p\" {...{\n        \"href\": \"index.md\"\n      }}>{`Runtime Reference Documentation Index`}</a>{`.`}</p>\n    <p>{`Return to the `}<a parentName=\"p\" {...{\n        \"href\": \"../../index.md\"\n      }}>{`Guides Index`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}