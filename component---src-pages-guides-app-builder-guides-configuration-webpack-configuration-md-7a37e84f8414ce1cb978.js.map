{"version":3,"file":"component---src-pages-guides-app-builder-guides-configuration-webpack-configuration-md-7a37e84f8414ce1cb978.js","mappings":"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","sources":["webpack://adobe-developer-app-builder/./src/pages/guides/app_builder_guides/configuration/webpack_configuration.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/app-builder/app-builder/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"webpack-configuration\"\n    }}>{`Webpack Configuration`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`App Builder bundles Runtime action code using Webpack. Users can specify Webpack configurations for individual actions, sets of actions, or entire projects. See `}<a parentName=\"p\" {...{\n        \"href\": \"https://webpack.js.org/configuration\"\n      }}>{`the Webpack site`}</a>{` for configuration options.`}</p>\n    <h2 {...{\n      \"id\": \"configuration-file\"\n    }}>{`Configuration file`}</h2>\n    <p>{`When Runtime action code is bundled during `}<inlineCode parentName=\"p\">{`aio app build|run|deploy`}</inlineCode>{` the action directory is searched for a webpack config file named `}<inlineCode parentName=\"p\">{`*webpack-config.js`}</inlineCode>{`. The search is done first in the directory of the action being built, then the parent directory, up to the project root.`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`To specify a Webpack configuration for a single action, place the `}<inlineCode parentName=\"p\">{`*webpack-config.js`}</inlineCode>{` file in the action folder.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`To specify a Webpack configuration for a set of actions, place the `}<inlineCode parentName=\"p\">{`*webpack-config.js`}</inlineCode>{` file in the parent directory of your action\nfolders.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`To specify a Webpack configuration for an entire project, place the `}<inlineCode parentName=\"p\">{`*webpack-config.js`}</inlineCode>{` file in the root directory of your project.`}</p>\n      </li>\n    </ul>\n    <h3 {...{\n      \"id\": \"es-module-syntax\"\n    }}>{`ES module syntax`}</h3>\n    <p>{`App Builder does not currently support ES Module syntax. This file must be written in CommonJS, or failures will occur at build time. `}</p>\n    <h2 {...{\n      \"id\": \"configuration-types\"\n    }}>{`Configuration types`}</h2>\n    <p>{`App Builder supports exporting the following configuration types in `}<inlineCode parentName=\"p\">{`*webpack-config.js`}</inlineCode>{`:`}</p>\n    <h3 {...{\n      \"id\": \"objects\"\n    }}>{`Objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = { \n  mode: 'development' \n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"functions-that-return-objects\"\n    }}>{`Functions that return objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = (env) => ({\n  mode: 'development'\n})\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"functions-that-return-arrays-of-objects\"\n    }}>{`Functions that return arrays of objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = (env) => ([\n  {\n    mode: 'development' \n  },\n  {\n    mode: 'production'\n  }\n])\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"asynchronous-functions-that-return-objects\"\n    }}>{`Asynchronous functions that return objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = async (env) => ({\n  mode: 'development'\n})\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"asynchronous-functions-that-return-arrays-of-objects\"\n    }}>{`Asynchronous functions that return arrays of objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = async (env) => ([\n  {\n    mode: 'development' \n  },\n  {\n    mode: 'production'\n  }\n])\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"arrays-of-objects\"\n    }}>{`Arrays of objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = [\n  {\n    mode: 'development'\n  },\n  {\n    mode: 'production'\n  }\n]\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"arrays-of-functions-that-return-objects\"\n    }}>{`Arrays of functions that return objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = [\n  (env) => ({\n    mode: 'development'\n  }),\n  (env) => ({\n    mode: 'production'\n  })\n]\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"arrays-of-asynchronous-functions-that-return-objects\"\n    }}>{`Arrays of asynchronous functions that return objects`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = [\n  async (env) => ({\n    mode: 'development'\n  }),\n  async (env) => ({\n    mode: 'production'\n  })\n]\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"configuration\"\n    }}>{`Configuration`}</h2>\n    <h3 {...{\n      \"id\": \"overview-1\"\n    }}>{`Overview`}</h3>\n    <p>{`Assuming that `}<inlineCode parentName=\"p\">{`config`}</inlineCode>{` contains your Webpack configuration:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`{\n  mode: config.mode || 'production', \n  optimization: {\n    minimize: config.optimization.minimize || false\n  },\n  output: { \n    libraryTarget: config.output.libraryTarget || 'commonjs2',\n    path: './dist/\\${actionPath}/\\${actionName}-temp/' // Cannot change \n    fileName: \\`\\${output.path}/index.js\\` // Cannot change \n  },\n  target: 'node' // Cannot change\n  entry: [\n    '<path to the action>', \n    ...config.entry\n  ],\n  resolve: { \n    extensions: [\n      '.js', \n      '.json', \n      ...config.extensions\n    ],\n    mainFields: [ \n      'main',\n      ...config.mainFields\n    ]\n  },\n  plugins: [\n    new DefaultPlugin({\n      WEBPACK_ACTION_BUILD: 'true', \n      \\`process.env.AIO_CLI_ENV\\`: \\${cliEnv}\n    }),\n    ...config.plugins\n  ]\n\n  // ... All other Webpack configuration options are valid\n\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"base-options\"\n    }}>{`Base options`}</h3>\n    <p>{`App Builder starts off with these Webpack configuration options; any additional values will be added on for these fields:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`entry`}</inlineCode>{` always contains the path to the action; additional paths identified in your configuration file will be added on`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`resolve.extensions`}</inlineCode>{` always contains `}<inlineCode parentName=\"li\">{`.js`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`.json`}</inlineCode>{`; additional extensions identified in your configuration file will be added on.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`resolve.mainFields`}</inlineCode>{` always contains `}<inlineCode parentName=\"li\">{`main`}</inlineCode>{`; additional main fields identified in your configuration file will be added on.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"defaults\"\n    }}>{`Defaults`}</h3>\n    <p>{`App Builder defaults to the following Webpack configuration options if they are not present in your configuration file:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`output.libraryTarget`}</inlineCode>{` defaults to `}<inlineCode parentName=\"li\">{`commonjs2`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`mode`}</inlineCode>{` defaults to `}<inlineCode parentName=\"li\">{`production`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`optimization.minimize`}</inlineCode>{` defaults to `}<inlineCode parentName=\"li\">{`false`}</inlineCode></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"immutable-options\"\n    }}>{`Immutable options`}</h3>\n    <p>{`App Builder does not allow changing of these Webpack configuration options; if these fields are present in your configuration file, they will be ignored:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`target`}</inlineCode>{` must be `}<inlineCode parentName=\"li\">{`node`}</inlineCode>{`; I/O Runtime supports only Node.js as a runtime`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`output.path`}</inlineCode>{`must be `}<inlineCode parentName=\"li\">{`./dist/\\${actionPath}/\\${actionName}-temp/`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`output.filename`}</inlineCode>{` must be `}<inlineCode parentName=\"li\">{`\\${output.path}/index.js`}</inlineCode>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Note: If you are supplying multiple configurations, this will be true for the first configuration; subsequent configurations will be `}<inlineCode parentName=\"li\">{`\\${output.path}/index.[hashname].js`}</inlineCode></li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"environment-variables\"\n    }}>{`Environment variables`}</h2>\n    <p>{`If you export a function, an asynchronous function, or an array of functions from your Webpack configuration file, App Builder will pass the environment to those functions. You can use this to make decisions about bundling based on the environment.`}</p>\n    <p>{`For example, if you export an environment variable called `}<inlineCode parentName=\"p\">{`FEATURE_FLAG_PIRATES_BOUNTY`}</inlineCode>{` before building your application, you can use it in your Webpack configuration file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`module.exports = (env) => ({\n  mode: env.FEATURE_FLAG_PIRATES_BOUNTY ? 'production' : 'development'\n})\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next steps`}</h2>\n    <p>{`Return to `}<a parentName=\"p\" {...{\n        \"href\": \"configuration.md\"\n      }}>{`Configuration`}</a>{`.`}</p>\n    <p>{`Return to `}<a parentName=\"p\" {...{\n        \"href\": \"../../../guides/index.md\"\n      }}>{`Guides Index`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}